# 校园帮系统功能说明

## 一、用户端功能

### 1. 账户管理
- **注册登录**：邮箱注册，验证码验证，支持密码登录和验证码登录
- **密码管理**：忘记密码重置，修改密码
- **个人信息**：查看和修改个人信息，上传头像
- **实名认证**：提交实名认证申请，查看认证状态

### 2. 失物招领
- **发布失物**：发布丢失物品或招领物品信息，上传图片，支持多图片
- **浏览搜索**：浏览失物列表，多条件筛选，关键词搜索
- **认领功能**：申请认领招领物品，填写认领信息，上传证明图片
- **认领管理**：发布者查看所有认领申请，确认或拒绝认领
- **我的发布**：查看、编辑、删除、关闭我发布的失物

### 3. 闲置交易
- **发布商品**：发布闲置商品信息，设置价格、库存、交易方式，上传图片
- **浏览搜索**：浏览商品列表，按类别、成色、价格筛选，关键词搜索
- **购买商品**：创建订单，选择交易方式，选择收货地址，支付订单
- **商品管理**：查看、编辑、删除、下架我发布的商品

### 4. 订单管理
- **订单创建**：从商品创建订单，选择交易方式和收货地址
- **订单支付**：买家支付订单
- **订单发货**：卖家发货，填写物流信息（邮寄方式）
- **确认收货**：买家确认收货，完成订单
- **订单管理**：查看订单列表（我买到的/我卖出的），查看订单详情，取消订单（待付款状态）

### 5. 收货地址
- **地址管理**：添加、编辑、删除收货地址，设置默认地址
- **地址验证**：手机号、邮编格式验证

### 6. 学习互助
- **发布问题**：发布学习问题，选择分类，设置悬赏（可选），上传图片
- **浏览搜索**：浏览问题列表，按分类、状态、悬赏筛选，关键词搜索
- **回答问题**：查看问题详情，提交回答，上传图片
- **采纳答案**：发布者采纳最佳答案
- **问题管理**：查看我的问题，查看我的回答，编辑、删除问题

### 7. 聊天功能
- **会话管理**：自动创建或获取会话，查看会话列表
- **消息发送**：发送文字、图片、商品卡片、订单卡片消息
- **消息接收**：实时接收消息，查看消息列表，图片预览
- **已读状态**：查看消息已读状态，实时更新

### 8. 系统消息
- **消息查看**：查看系统消息列表，未读消息数量显示
- **消息操作**：标记已读，全部标记已读，删除消息，批量删除
- **消息通知**：右下角消息通知面板，实时消息推送
- **消息跳转**：根据消息类型跳转到相关页面

### 9. 搜索历史
- **历史记录**：自动保存搜索历史，查看搜索历史
- **快速搜索**：点击历史记录快速搜索
- **历史管理**：删除单个历史，清空所有历史

## 二、管理员端功能

### 1. 数据概览
- **统计信息**：用户数、内容数、订单数等统计数据
- **数据图表**：趋势图、分布图等可视化展示
- **周期选择**：最近7天、最近30天、本学期、本学年

### 2. 用户管理
- **用户列表**：查看所有用户，分页查询
- **用户操作**：查看用户详情，编辑用户信息，新增用户，删除用户
- **用户封禁**：封禁用户（临时/永久），解封用户

### 3. 实名认证审核
- **审核列表**：查看待审核认证列表，按状态筛选
- **审核操作**：查看认证详情和证明文件，审核认证（通过/拒绝），填写审核原因

### 4. 内容审核
- **失物招领审核**：查看待审核失物列表，多条件筛选，审核失物（通过/拒绝），下架违规失物
- **闲置交易审核**：查看待审核商品列表，多条件筛选，审核商品（通过/拒绝），下架违规商品
- **学习问题审核**：查看待审核问题列表，多条件筛选，审核问题（通过/拒绝），审核/删除回答，下架违规问题

### 5. 内容管理
- **失物管理**：查看所有失物，下架、删除失物
- **商品管理**：查看所有商品，下架、删除商品
- **问题管理**：查看所有问题，下架、删除问题

### 6. 敏感词管理
- **敏感词列表**：查看所有敏感词，搜索、分页
- **敏感词操作**：添加敏感词，编辑敏感词，删除敏感词，批量删除
- **敏感词级别**：设置敏感词级别（普通/严重）
- **重新加载**：重新加载敏感词库，使新添加的敏感词生效

### 7. 管理员消息
- **消息查看**：查看所有管理员消息
- **消息通知**：消息通知面板，实时消息推送
- **审核提醒**：待审核内容提醒

## 三、系统特性

### 1. 安全特性
- JWT Token认证
- 密码加密存储
- 验证码防刷机制
- 基于角色的权限控制

### 2. 内容审核
- 敏感词自动检测
- 敏感词分级（普通/严重）
- 发布频率限制
- 自动审核/人工审核

### 3. 实时通信
- WebSocket实时消息推送
- 消息持久化存储
- 已读状态实时更新

### 4. 文件管理
- 图片上传（jpg、jpeg、png、gif）
- 文件大小限制（5MB）
- 按模块和日期分类存储

### 5. 数据管理
- 逻辑删除机制
- 分页查询支持
- 数据统计功能

## 四、业务流程

### 失物招领流程
1. 用户发布失物信息 → 2. 系统自动检测敏感词 → 3. 自动审核或人工审核 → 4. 审核通过后展示 → 5. 其他用户申请认领 → 6. 发布者确认认领 → 7. 系统发送通知

### 闲置交易流程
1. 用户完成实名认证 → 2. 发布商品信息 → 3. 系统审核 → 4. 审核通过后展示 → 5. 买家创建订单 → 6. 买家支付 → 7. 卖家发货 → 8. 买家确认收货 → 9. 订单完成

### 学习互助流程
1. 用户发布问题 → 2. 系统审核 → 3. 审核通过后展示 → 4. 其他用户回答问题 → 5. 发布者采纳答案 → 6. 问题状态更新为已解决

### 订单流程
待付款 → 已付款 → 已发货/待自提 → 已完成
（仅待付款状态可取消）

### 认领流程
申请认领 → 待处理 → 已确认/已拒绝
（支持多认领申请，确认时自动拒绝其他申请）

## 五、功能完成情况

✅ **已完成功能**：
- 用户管理模块
- 失物招领模块
- 闲置交易模块
- 学习互助
- 订单管理模块
- 地址管理模块
- 聊天功能模块
- 系统消息模块
- 搜索历史模块
- 管理员后台模块
- 敏感词管理模块

⏳ **待实现功能**：
- 跑腿服务模块
- 评论功能模块
- 收藏功能模块
- 订单评价功能

## 六、使用说明

### 普通用户
1. 注册账号并完成实名认证
2. 根据需要发布失物、商品或问题
3. 浏览和搜索相关内容
4. 进行交易或参与互助
5. 通过聊天功能与对方沟通
6. 查看系统消息通知

### 管理员
1. 登录管理员后台
2. 查看数据概览和统计信息
3. 审核用户提交的内容
4. 管理用户和敏感词
5. 处理违规内容
6. 查看管理员消息和审核提醒

