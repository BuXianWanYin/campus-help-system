# 校园帮助系统前端开发规范文档

## 一、项目概述

### 1.1 技术栈

#### 前端技术栈
- **框架**：Vue 3.4.21
- **构建工具**：Vite 5.2.0
- **UI组件库**：Element Plus 2.6.3
- **图标库**：@element-plus/icons-vue 2.3.1
- **状态管理**：Pinia 2.1.7
- **路由**：Vue Router 4.3.0
- **HTTP客户端**：Axios 1.6.7
- **图表库**：ECharts 5.5.0
- **开发语言**：JavaScript (ES6+)

### 1.2 项目架构要求
- 前端采用组件化开发，模块化管理
- 前后端分离，通过RESTful API进行交互
- 使用Pinia进行状态管理
- 使用Vue Router进行路由管理
- 使用Axios进行HTTP请求封装

### 1.3 项目基础信息
- **项目名称**：校园帮助系统前端
- **开发端口**：3000
- **API基础路径**：通过环境变量`VITE_APP_BASE_API`配置
- **请求超时时间**：通过环境变量`VITE_APP_TIMEOUT`配置

## 二、项目结构规范

### 2.1 目录结构
```
campus-help-web/
├── public/                 # 静态资源
├── src/
│   ├── api/               # API接口定义
│   │   ├── index.js       # API入口文件
│   │   ├── module1.js     # 业务模块1 API
│   │   ├── module2.js     # 业务模块2 API
│   │   └── ...            # 其他业务模块
│   ├── assets/            # 资源文件（图片、样式等）
│   ├── components/        # 公共组件
│   │   ├── common/        # 通用组件
│   │   └── business/      # 业务组件
│   ├── config/            # 配置文件
│   │   └── index.js       # 全局配置
│   ├── router/            # 路由配置
│   │   ├── index.js       # 路由入口
│   │   └── guard.js       # 路由守卫
│   ├── stores/            # 状态管理（Pinia）
│   │   ├── api.js         # API相关状态
│   │   ├── user.js        # 用户相关状态
│   │   └── ...            # 其他状态模块
│   ├── utils/             # 工具函数
│   │   ├── request.js     # 请求封装
│   │   ├── auth.js        # 认证工具
│   │   ├── constants.js   # 常量定义
│   │   ├── echarts.js     # ECharts工具
│   │   └── index.js       # 工具函数入口
│   ├── views/             # 页面组件
│   │   ├── Home.vue       # 首页
│   │   ├── Login.vue      # 登录页
│   │   ├── module1/       # 业务模块1页面
│   │   └── module2/       # 业务模块2页面
│   ├── App.vue            # 根组件
│   └── main.js            # 入口文件
├── index.html             # HTML入口
├── package.json           # 依赖配置
├── vite.config.js         # Vite配置
└── README.md              # 项目说明
```

### 2.2 目录结构设计原则
- **单一职责原则**：每个目录只负责一个功能模块
- **模块独立**：不同业务模块之间通过API交互，降低耦合
- **职责明确**：不同功能的组件分开，便于管理和维护
- **可扩展性**：目录结构支持项目扩展

## 三、组件开发规范

### 3.1 组件命名规范
- 组件文件使用大驼峰命名，如：`UserList.vue`、`OrderDetail.vue`
- 组件名必须具有业务含义，避免使用通用名称
- 公共组件放在`components/common`目录
- 业务组件放在`components/business`目录
- 页面组件放在`views`目录

### 3.2 组件结构规范
```vue
<template>
  <!-- 模板内容 -->
  <div class="component-name">
    <!-- 组件内容 -->
  </div>
</template>

<script setup>
// 导入依赖
import { ref, reactive, computed, onMounted } from 'vue'
import { useRouter } from 'vue-router'

// 定义Props
const props = defineProps({
  // props定义
})

// 定义Emits
const emit = defineEmits(['event-name'])

// 响应式数据
const data = ref(null)
const form = reactive({
  // 表单数据
})

// 计算属性
const computedValue = computed(() => {
  // 计算逻辑
})

// 方法
const handleClick = () => {
  // 处理逻辑
}

// 生命周期
onMounted(() => {
  // 初始化逻辑
})
</script>

<style scoped>
.component-name {
  /* 样式内容 */
}
</style>
```

### 3.3 组件注释规范
- 组件文件头部添加组件说明
- 组件注释只包含功能描述，不包含作者和日期信息
- **禁止在注释中使用HTML标签**
- 复杂逻辑添加行内注释
- 方法添加注释说明功能

**示例：**
```vue
<script setup>
/**
 * 用户列表组件
 * 功能：展示用户列表，支持分页、搜索、新增、编辑、删除
 */

// 导入依赖
import { ref } from 'vue'

// 用户列表数据
const userList = ref([])

/**
 * 获取用户列表
 */
const getUserList = async () => {
  // 获取逻辑
}
</script>
```

## 四、API接口调用规范

### 4.1 API文件组织
- **按业务模块划分API目录**：每个业务模块创建独立的API文件
- **统一导出**：在`api/index.js`中统一导出所有API方法
- API方法命名使用动词开头，如：`getUserList`、`addUser`、`updateUser`、`deleteUser`

### 4.2 API文件示例
```javascript
// api/user.js
import request from '@/utils/request'

/**
 * 获取用户列表
 * @param {Object} params 查询参数
 * @returns {Promise} 用户列表
 */
export function getUserList(params) {
  return request({
    url: '/api/user/page',
    method: 'get',
    params
  })
}

/**
 * 新增用户
 * @param {Object} data 用户信息
 * @returns {Promise} 新增结果
 */
export function addUser(data) {
  return request({
    url: '/api/user',
    method: 'post',
    data
  })
}

/**
 * 更新用户
 * @param {Number} id 用户ID
 * @param {Object} data 用户信息
 * @returns {Promise} 更新结果
 */
export function updateUser(id, data) {
  return request({
    url: `/api/user/${id}`,
    method: 'put',
    data
  })
}

/**
 * 删除用户
 * @param {Number} id 用户ID
 * @returns {Promise} 删除结果
 */
export function deleteUser(id) {
  return request({
    url: `/api/user/${id}`,
    method: 'delete'
  })
}
```

### 4.3 API统一导出
```javascript
// api/index.js
export * from './user'
export * from './order'
// ... 其他模块
```

### 4.4 请求封装规范
- 统一使用`@/utils/request.js`中的axios实例进行HTTP请求
- 请求拦截器：自动添加Token、设置请求头
- 响应拦截器：统一处理响应、错误处理
- 请求超时时间：通过环境变量配置（默认30秒）

### 4.5 请求方法规范
- **GET请求**：使用`params`传递查询参数
- **POST请求**：使用`data`传递请求体
- **PUT请求**：使用`data`传递请求体
- **DELETE请求**：路径参数通过URL传递

**示例：**
```javascript
// GET请求
export function getUserList(params) {
  return request({
    url: '/api/user/page',
    method: 'get',
    params  // 查询参数
  })
}

// POST请求
export function addUser(data) {
  return request({
    url: '/api/user',
    method: 'post',
    data  // 请求体
  })
}
```

## 五、状态管理规范（Pinia）

### 5.1 Store文件组织
- Store文件放在`stores`目录下
- 按业务模块划分Store，如：`user.js`、`order.js`
- Store命名使用小驼峰，如：`useUserStore`、`useOrderStore`

### 5.2 Store结构规范
```javascript
// stores/user.js
import { defineStore } from 'pinia'
import { getUserInfo } from '@/api/user'

/**
 * 用户状态管理
 */
export const useUserStore = defineStore('user', {
  state: () => ({
    // 用户信息
    userInfo: null,
    // Token
    token: localStorage.getItem('campus_help_token') || '',
    // 刷新Token
    refreshToken: localStorage.getItem('campus_help_refresh_token') || ''
  }),

  getters: {
    /**
     * 是否已登录
     */
    isLoggedIn: (state) => {
      return !!state.token
    }
  },

  actions: {
    /**
     * 设置用户信息
     * @param {Object} userInfo 用户信息
     */
    setUserInfo(userInfo) {
      this.userInfo = userInfo
    },

    /**
     * 设置Token
     * @param {String} token Token
     */
    setToken(token) {
      this.token = token
      localStorage.setItem('campus_help_token', token)
    },

    /**
     * 获取用户信息
     */
    async fetchUserInfo() {
      try {
        const res = await getUserInfo()
        this.setUserInfo(res.data)
      } catch (error) {
        console.error('获取用户信息失败:', error)
      }
    },

    /**
     * 退出登录
     */
    logout() {
      this.userInfo = null
      this.token = ''
      this.refreshToken = ''
      localStorage.removeItem('campus_help_token')
      localStorage.removeItem('campus_help_refresh_token')
    }
  }
})
```

### 5.3 Store使用规范
- 在组件中使用`useStore()`获取Store实例
- 使用`store.xxx`访问state
- 使用`store.xxx()`调用actions
- 使用`store.xxx`访问getters

**示例：**
```vue
<script setup>
import { useUserStore } from '@/stores/user'

const userStore = useUserStore()

// 访问state
const userInfo = userStore.userInfo

// 调用action
userStore.fetchUserInfo()

// 访问getter
const isLoggedIn = userStore.isLoggedIn
</script>
```

## 六、路由管理规范

### 6.1 路由文件组织
- 路由配置文件：`router/index.js`
- 路由守卫文件：`router/guard.js`
- 路由按业务模块组织，使用嵌套路由

### 6.2 路由配置规范
```javascript
// router/index.js
import { createRouter, createWebHistory } from 'vue-router'
import { setupRouterGuard } from './guard'

const routes = [
  {
    path: '/',
    name: 'Home',
    component: () => import('@/views/Home.vue'),
    meta: {
      title: '首页',
      requiresAuth: true  // 需要登录
    }
  },
  {
    path: '/login',
    name: 'Login',
    component: () => import('@/views/Login.vue'),
    meta: {
      title: '登录',
      requiresAuth: false  // 不需要登录
    }
  },
  {
    path: '/user',
    name: 'User',
    component: () => import('@/layouts/BasicLayout.vue'),
    meta: {
      title: '用户管理',
      requiresAuth: true
    },
    children: [
      {
        path: 'list',
        name: 'UserList',
        component: () => import('@/views/user/UserList.vue'),
        meta: {
          title: '用户列表',
          requiresAuth: true
        }
      }
    ]
  }
]

const router = createRouter({
  history: createWebHistory(),
  routes
})

// 设置路由守卫
setupRouterGuard(router)

export default router
```

### 6.3 路由守卫规范
```javascript
// router/guard.js
import { getToken } from '@/utils/auth'

/**
 * 设置路由守卫
 * @param {Router} router Vue Router实例
 */
export function setupRouterGuard(router) {
  // 前置守卫
  router.beforeEach((to, from, next) => {
    // 设置页面标题
    if (to.meta.title) {
      document.title = `${to.meta.title} - 校园帮助系统`
    }

    // 检查是否需要登录
    if (to.meta.requiresAuth) {
      const token = getToken()
      if (!token) {
        // 未登录，跳转到登录页
        next({
          name: 'Login',
          query: {
            redirect: to.fullPath
          }
        })
        return
      }
    }

    next()
  })

  // 后置守卫
  router.afterEach(() => {
    // 可以在这里处理一些后置逻辑，如埋点等
  })
}
```

### 6.4 路由命名规范
- 路由名称使用大驼峰，如：`UserList`、`OrderDetail`
- 路由路径使用小写字母和连字符，如：`/user-list`、`/order-detail`
- 路由meta信息必须包含`title`和`requiresAuth`字段

## 七、工具函数规范

### 7.1 请求封装（request.js）
- 统一使用axios进行HTTP请求
- 请求拦截器：添加Token、设置请求头
- 响应拦截器：统一处理响应、错误处理
- 请求超时时间：通过环境变量配置

**关键配置：**
```javascript
// utils/request.js
import axios from 'axios'
import { ElMessage, ElMessageBox } from 'element-plus'
import { getToken, removeToken } from './auth'

const service = axios.create({
  baseURL: import.meta.env.VITE_APP_BASE_API,
  timeout: parseInt(import.meta.env.VITE_APP_TIMEOUT),
  headers: {
    'Content-Type': 'application/json'
  }
})

// 请求拦截器
service.interceptors.request.use(
  (config) => {
    const token = getToken()
    if (token) {
      config.headers['Authorization'] = `Bearer ${token}`
    }
    return config
  },
  (error) => {
    return Promise.reject(error)
  }
)

// 响应拦截器
service.interceptors.response.use(
  (response) => {
    const res = response.data
    if (res.code !== 200) {
      ElMessage.error(res.message || '请求失败')
      if (res.code === 401) {
        // 未授权，清除token并跳转登录
        removeToken()
        location.reload()
      }
      return Promise.reject(new Error(res.message || '请求失败'))
    }
    return res
  },
  (error) => {
    // 错误处理
    return Promise.reject(error)
  }
)

export default service
```

### 7.2 认证工具（auth.js）
- Token存储：使用`localStorage`
- Token键名：`campus_help_token`
- 刷新Token键名：`campus_help_refresh_token`
- 用户信息键名：`campus_help_user_info`

**关键方法：**
```javascript
// utils/auth.js
const TOKEN_KEY = 'campus_help_token'
const REFRESH_TOKEN_KEY = 'campus_help_refresh_token'
const USER_INFO_KEY = 'campus_help_user_info'

/**
 * 获取Token
 */
export function getToken() {
  return localStorage.getItem(TOKEN_KEY)
}

/**
 * 设置Token
 */
export function setToken(token) {
  localStorage.setItem(TOKEN_KEY, token)
}

/**
 * 移除Token
 */
export function removeToken() {
  localStorage.removeItem(TOKEN_KEY)
  localStorage.removeItem(REFRESH_TOKEN_KEY)
  localStorage.removeItem(USER_INFO_KEY)
}
```

### 7.3 常量定义（constants.js）
- 所有常量统一在`utils/constants.js`中定义
- 常量使用大写下划线命名，如：`API_BASE_URL`、`TOKEN_KEY`
- 常量按功能分组，添加注释说明

**示例：**
```javascript
// utils/constants.js
// API 路径
export const API_BASE_URL = import.meta.env.VITE_APP_BASE_API

// 请求超时时间
export const REQUEST_TIMEOUT = parseInt(import.meta.env.VITE_APP_TIMEOUT)

// Token 相关
export const TOKEN_KEY = 'campus_help_token'
export const REFRESH_TOKEN_KEY = 'campus_help_refresh_token'
export const USER_INFO_KEY = 'campus_help_user_info'

// 响应状态码
export const RESPONSE_CODE = {
  SUCCESS: 200,
  UNAUTHORIZED: 401,
  FORBIDDEN: 403,
  NOT_FOUND: 404,
  SERVER_ERROR: 500
}
```

## 八、代码质量规范

### 8.1 控制流嵌套规范
- **嵌套层级限制**：方法中的 if/else 嵌套层级不应超过 3 层
- **提取方法**：当嵌套层级超过 3 层时，必须提取为独立函数
- **提前返回**：优先使用提前返回（Early Return）模式，减少嵌套

**示例：避免深层嵌套**
```javascript
// ❌ 错误示例：嵌套层级过深
function processData(data) {
  if (data) {
    if (data.items) {
      if (data.items.length > 0) {
        // 处理逻辑
      }
    }
  }
}

// ✅ 正确示例：提前返回
function processData(data) {
  if (!data) return
  if (!data.items) return
  if (data.items.length === 0) return
  
  // 处理逻辑
}
```

### 8.2 函数长度规范
- **函数长度限制**：单个函数代码行数不应超过 80 行
- **职责单一**：函数应只做一件事，保持职责单一
- **提取函数**：当函数过长时，应提取为多个独立函数

### 8.3 代码可读性规范
- **函数命名**：函数名应清晰表达函数功能
- **注释规范**：复杂业务逻辑必须添加注释说明
- **变量命名**：变量名应具有业务含义，避免使用单字母变量

### 8.4 变量命名规范
- **变量命名**：使用小驼峰，如：`userName`、`orderList`
- **常量命名**：使用大写下划线，如：`API_BASE_URL`、`TOKEN_KEY`
- **函数命名**：使用动词开头，如：`getUserList`、`addUser`
- **组件命名**：使用大驼峰，如：`UserList`、`OrderDetail`

### 8.5 代码格式规范
- 使用2个空格缩进
- 使用单引号（'）而非双引号（"）
- 语句末尾不使用分号（根据项目配置）
- 对象和数组最后一个元素后不加逗号（根据项目配置）

## 九、环境变量配置规范

### 9.1 环境变量文件
- 开发环境：`.env.development`
- 生产环境：`.env.production`
- 环境变量必须以`VITE_`开头

### 9.2 环境变量配置
```bash
# .env.development
# 应用标题
VITE_APP_TITLE=校园帮助系统

# API 基础路径
VITE_APP_BASE_API=/api

# 请求超时时间（毫秒）
VITE_APP_TIMEOUT=30000

# 服务器端口
VITE_SERVER_PORT=3000

# 代理目标地址
VITE_SERVER_PROXY_TARGET=http://localhost:8080
```

### 9.3 环境变量使用
```javascript
// 使用环境变量
const baseURL = import.meta.env.VITE_APP_BASE_API
const timeout = parseInt(import.meta.env.VITE_APP_TIMEOUT)
```

## 十、Vite配置规范

### 10.1 Vite配置文件
- 配置文件：`vite.config.js`
- 使用环境变量配置代理和端口
- 配置路径别名：`@`指向`src`目录

### 10.2 Vite配置示例
```javascript
// vite.config.js
import { defineConfig, loadEnv } from 'vite'
import vue from '@vitejs/plugin-vue'
import { fileURLToPath, URL } from 'node:url'

export default defineConfig(({ mode }) => {
  const env = loadEnv(mode, process.cwd())
  
  const serverPort = parseInt(env.VITE_SERVER_PORT)
  const proxyTarget = env.VITE_SERVER_PROXY_TARGET
  const baseApi = env.VITE_APP_BASE_API

  return {
    plugins: [vue()],
    server: {
      port: serverPort,
      proxy: {
        [baseApi]: {
          target: proxyTarget,
          changeOrigin: true,
          rewrite: (path) => path.replace(new RegExp(`^${baseApi}`), '')
        }
      }
    },
    resolve: {
      alias: {
        '@': fileURLToPath(new URL('./src', import.meta.url))
      }
    }
  }
})
```

## 十一、Element Plus使用规范

### 11.1 组件导入规范
- 按需导入：只导入使用的组件，减少打包体积
- 全局注册：在`main.js`中注册常用组件

### 11.2 组件使用规范
- 使用Element Plus提供的组件，保持UI风格统一
- 遵循Element Plus的设计规范
- 自定义样式使用`scoped`，避免全局污染

### 11.3 表单验证规范
- 使用Element Plus的表单验证功能
- 表单规则统一在组件内定义
- 错误提示信息清晰明确

**示例：**
```vue
<template>
  <el-form :model="form" :rules="rules" ref="formRef">
    <el-form-item label="用户名" prop="username">
      <el-input v-model="form.username" />
    </el-form-item>
  </el-form>
</template>

<script setup>
const form = reactive({
  username: ''
})

const rules = {
  username: [
    { required: true, message: '请输入用户名', trigger: 'blur' }
  ]
}
</script>
```

## 十二、UI/UX设计规范

### 12.1 配色方案规范

#### 12.1.1 主色调
- **主色**：`#769fcd`（柔和蓝色，温和优雅，适合校园场景）
- **主色变体**：
  - 浅蓝色：`#b9d7ea`（用于hover状态、次要按钮、边框）
  - 极浅蓝色：`#d6e6f2`（用于背景、卡片背景、区块背景）
  - 极浅背景：`#f7fbfc`（用于页面主背景、卡片内背景）
- **辅助色**：`#67C23A`（成功/绿色）、`#E6A23C`（警告/橙色）、`#F56C6C`（错误/红色）、`#909399`（信息/灰色）
- **禁止使用**：
  - ❌ 紫色渐变（`linear-gradient`包含紫色）
  - ❌ 任何渐变色（`linear-gradient`、`radial-gradient`等）
  - ❌ 过于鲜艳或刺眼的颜色
- **推荐使用**：纯色（solid color），保持界面简洁清爽，使用柔和蓝色系营造温和友好的校园氛围

#### 12.1.2 中性色
- **背景色**：
  - 主背景：`#f7fbfc`（极浅蓝色，页面主背景）
  - 次背景：`#d6e6f2`（浅蓝色，用于卡片、区块背景）
  - 卡片背景：`#FFFFFF`（白色，用于卡片内容区）
  - 边框色：`#b9d7ea`（浅蓝色边框，用于卡片、输入框等）
- **文字色**：
  - 主文字：`#303133`（深灰，用于标题、重要文字）
  - 常规文字：`#606266`（中灰，用于正文）
  - 次要文字：`#909399`（浅灰，用于辅助信息、提示文字）
  - 占位文字：`#C0C4CC`（极浅灰，用于占位符）

#### 12.1.3 状态色
- **成功**：`#67C23A`（绿色，用于成功提示、完成状态）
- **警告**：`#E6A23C`（橙色，用于警告提示、待处理状态）
- **错误**：`#F56C6C`（红色，用于错误提示、失败状态）
- **信息**：`#909399`（灰色，用于一般信息提示）

#### 12.1.4 配色使用示例
```css
/* ✅ 正确示例：使用柔和蓝色纯色 */
.button-primary {
  background-color: #769fcd;
  color: #FFFFFF;
}

.button-primary:hover {
  background-color: #b9d7ea;
  color: #769fcd;
}

.button-primary:active {
  background-color: #769fcd;
  opacity: 0.9;
}

/* ✅ 正确示例：使用浅蓝色背景和边框 */
.card-highlight {
  background-color: #d6e6f2;
  border: 1px solid #b9d7ea;
}

/* ✅ 正确示例：页面主背景 */
.page-container {
  background-color: #f7fbfc;
}

/* ✅ 正确示例：卡片背景 */
.card {
  background-color: #FFFFFF;
  border: 1px solid #b9d7ea;
}

/* ❌ 错误示例：使用渐变色 */
.button-primary {
  background: linear-gradient(135deg, #769fcd 0%, #b9d7ea 100%);
}

/* ❌ 错误示例：使用过于鲜艳的颜色 */
.button-primary {
  background-color: #0000FF; /* 过于刺眼 */
}
```

#### 12.1.5 蓝色系配色方案
- **主色系**：
  - 主色：`#769fcd`（用于主要按钮、链接、选中状态、导航栏）
  - 浅色：`#b9d7ea`（用于hover状态、次要按钮、边框、输入框边框）
  - 极浅色：`#d6e6f2`（用于卡片背景、区块背景、hover背景）
  - 极浅背景：`#f7fbfc`（用于页面主背景、容器背景）
- **使用场景**：
  - 导航栏选中状态：`#769fcd`
  - 主要按钮：`#769fcd`，hover时`#b9d7ea`（文字变为`#769fcd`）
  - 链接文字：`#769fcd`，hover时`#b9d7ea`
  - 卡片边框：`#b9d7ea`
  - 卡片背景：`#d6e6f2`（可选）或`#FFFFFF`（白色）
  - 页面主背景：`#f7fbfc`
  - 输入框边框：`#b9d7ea`，focus时`#769fcd`
  - 图标/徽章：`#769fcd`
  - 分割线：`#b9d7ea`

### 12.2 布局规范

#### 12.2.1 页面布局原则
- **简洁明了**：界面布局清晰，减少视觉干扰
- **信息层次**：重要信息突出，次要信息弱化
- **操作便捷**：常用功能易于访问，减少操作步骤
- **响应式设计**：适配不同屏幕尺寸（PC、平板、手机）

#### 12.2.2 布局结构
- **顶部导航栏**：固定高度60px，包含Logo、主导航、用户信息
- **侧边栏**（如需要）：宽度200px，收起时60px
- **主内容区**：自适应宽度，最小宽度1200px（PC端）
- **页脚**：固定高度40px，包含版权信息

#### 12.2.3 间距规范
- **页面边距**：20px（主内容区与页面边缘的距离）
- **卡片间距**：20px（卡片之间的间距）
- **组件间距**：16px（表单元素、按钮之间的间距）
- **内容间距**：12px（文字、图标之间的间距）

#### 12.2.4 卡片设计
- **卡片背景**：`#FFFFFF`（白色）或`#d6e6f2`（浅蓝色，用于特殊卡片）
- **卡片边框**：`1px solid #b9d7ea`（浅蓝色边框）
- **卡片阴影**：`0 2px 12px 0 rgba(118, 159, 205, 0.1)`（轻微蓝色阴影，增加层次感）
- **卡片圆角**：4px（统一圆角，避免过于圆润）
- **卡片内边距**：20px（卡片内容与边框的距离）

### 12.3 操作指引规范

#### 12.3.1 首次使用指引
- **欢迎引导**：新用户首次登录时，显示功能引导（使用`el-tour`组件）
- **功能提示**：重要功能添加提示图标（`el-icon-question-filled`），点击显示说明
- **操作步骤**：复杂操作提供步骤指引（如：发布失物招领、创建订单等）

#### 12.3.2 表单填写指引
- **必填标识**：必填字段使用红色星号（`*`）标识
- **字段说明**：复杂字段添加说明文字（使用`el-tooltip`或`el-form-item`的`label`说明）
- **示例提示**：输入框提供占位符示例（如：`请输入邮箱地址，如：example@qq.com`）
- **实时验证**：输入时实时显示验证结果（成功/错误状态）

#### 12.3.3 操作反馈
- **加载状态**：异步操作显示加载动画（`el-loading`）
- **成功提示**：操作成功使用`ElMessage.success()`提示，3秒后自动消失
- **错误提示**：操作失败使用`ElMessage.error()`提示，显示具体错误原因
- **确认操作**：危险操作（删除、取消订单等）使用`ElMessageBox.confirm()`二次确认

### 12.4 错误提示规范

#### 12.4.1 错误提示原则
- **及时反馈**：操作后立即显示错误提示，不延迟
- **信息明确**：错误提示说明具体原因，提供解决方案
- **位置合理**：错误提示显示在相关操作附近，易于发现
- **样式统一**：使用Element Plus统一的错误提示样式

#### 12.4.2 表单错误提示
- **字段级错误**：在表单项下方显示错误信息（红色文字）
- **表单级错误**：在表单顶部显示整体错误信息（`el-alert`组件）
- **验证时机**：`blur`（失焦）时验证，`submit`（提交）时全部验证

#### 12.4.3 接口错误提示
- **网络错误**：`网络连接失败，请检查网络设置`
- **401未授权**：`登录已过期，请重新登录`（自动跳转登录页）
- **403无权限**：`您没有权限执行此操作`
- **404未找到**：`请求的资源不存在`
- **500服务器错误**：`服务器错误，请稍后重试`
- **业务错误**：显示后端返回的具体错误信息

#### 12.4.4 错误提示示例
```vue
<template>
  <!-- 字段级错误提示 -->
  <el-form-item label="邮箱" prop="email" :error="formErrors.email">
    <el-input v-model="form.email" placeholder="请输入邮箱地址" />
  </el-form-item>

  <!-- 表单级错误提示 -->
  <el-alert
    v-if="formErrors.general"
    :title="formErrors.general"
    type="error"
    :closable="false"
    style="margin-bottom: 20px;"
  />

  <!-- 操作错误提示 -->
  <el-button @click="handleSubmit">提交</el-button>
</template>

<script setup>
import { ElMessage } from 'element-plus'

const handleSubmit = async () => {
  try {
    await submitForm()
    ElMessage.success('提交成功')
  } catch (error) {
    // 显示具体错误信息
    ElMessage.error(error.message || '提交失败，请稍后重试')
  }
}
</script>
```

### 12.5 校园场景适配规范

#### 12.5.1 用户习惯适配
- **操作流程简化**：减少不必要的步骤，核心功能3步内完成
- **信息展示清晰**：重要信息（如：失物信息、商品价格、任务报酬）突出显示
- **快速操作**：常用操作（如：发布、接单、认领）提供快捷入口
- **批量操作**：支持批量操作（如：批量审核、批量删除）

#### 12.5.2 功能入口设计
- **首页快捷入口**：首页提供主要功能入口（失物招领、闲置交易、跑腿服务）
- **导航栏分类**：导航栏按功能模块分类，清晰明了
- **个人中心**：个人中心集中管理用户相关信息（发布、订单、任务、收藏等）

#### 12.5.3 信息发布流程
- **发布表单简化**：必填项最少化，可选信息提供默认值
- **图片上传优化**：支持拖拽上传、预览、删除，最多9张
- **实时保存**：表单内容自动保存草稿，防止数据丢失
- **发布预览**：发布前提供预览功能，确认无误后再发布

#### 12.5.4 交互优化
- **搜索功能**：提供关键词搜索、高级筛选，支持历史搜索记录
- **筛选功能**：常用筛选条件（分类、状态、价格区间等）提供快捷筛选
- **排序功能**：支持多种排序方式（时间、价格、热度等），默认按时间倒序
- **分页加载**：列表使用分页加载，每页10-20条，支持跳转和调整每页数量

### 12.6 响应式设计规范

#### 12.6.1 断点设置
- **移动端**：`< 768px`（手机）
- **平板端**：`768px - 1024px`（平板）
- **PC端**：`> 1024px`（桌面）

#### 12.6.2 适配策略
- **移动端**：单列布局，导航改为底部导航栏，卡片全宽显示
- **平板端**：双列布局，侧边栏可收起，卡片自适应宽度
- **PC端**：多列布局，侧边栏固定，卡片按网格排列

#### 12.6.3 触摸优化
- **按钮尺寸**：移动端按钮最小高度44px，便于点击
- **间距调整**：移动端增加元素间距，避免误触
- **手势支持**：支持滑动、长按等手势操作

### 12.7 图标和图片规范

#### 12.7.1 图标使用
- **图标库**：统一使用`@element-plus/icons-vue`
- **图标尺寸**：16px（小）、20px（中）、24px（大）
- **图标颜色**：跟随文字颜色，或使用主题色

#### 12.7.2 图片规范
- **图片格式**：优先使用WebP，兼容PNG、JPG
- **图片尺寸**：列表缩略图200x200px，详情大图800x800px
- **图片压缩**：上传前自动压缩，单张不超过5MB
- **懒加载**：列表图片使用懒加载，提升页面性能

### 12.8 动画和过渡规范

#### 12.8.1 动画原则
- **适度使用**：动画用于提升体验，不过度使用
- **性能优先**：使用CSS3动画，避免JavaScript动画
- **时长控制**：动画时长200-300ms，不宜过长

#### 12.8.2 常用动画
- **页面切换**：淡入淡出（`fade`）
- **列表加载**：从下往上滑入（`slide-up`）
- **弹窗显示**：缩放淡入（`zoom-fade`）
- **按钮点击**：轻微缩放（`scale`）

## 十三、错误处理规范

### 12.1 API错误处理
- 统一在`request.js`的响应拦截器中处理错误
- 根据错误码显示不同的错误提示
- 401错误自动跳转登录页

### 12.2 组件错误处理
- 使用`try-catch`捕获异步错误
- 错误信息使用`ElMessage`提示用户
- 关键操作失败时提供重试机制

**示例：**
```javascript
const handleSubmit = async () => {
  try {
    await submitForm()
    ElMessage.success('操作成功')
  } catch (error) {
    ElMessage.error(error.message || '操作失败')
  }
}
```

## 十四、性能优化规范

### 13.1 路由懒加载
- 所有路由组件使用懒加载
- 减少首屏加载时间

**示例：**
```javascript
{
  path: '/user',
  component: () => import('@/views/user/UserList.vue')
}
```

### 13.2 组件懒加载
- 大型组件使用`defineAsyncComponent`懒加载
- 减少初始打包体积

### 13.3 图片优化
- 使用合适的图片格式（WebP、PNG、JPG）
- 大图片使用懒加载
- 使用CDN加速静态资源

## 十五、安全规范

### 14.1 数据安全
- Token存储在`localStorage`，注意XSS攻击防护
- 敏感信息不在前端存储
- 用户输入必须进行校验和转义

### 14.2 接口安全
- 所有接口请求自动携带Token
- Token过期自动跳转登录页
- 防止CSRF攻击（后端配合）

### 14.3 前端安全
- 使用HTTPS协议（生产环境）
- 避免在URL中传递敏感信息
- 防止XSS攻击：对用户输入进行转义

## 十六、Git提交规范

### 15.1 提交信息格式
- 提交信息格式：`类型(范围): 描述`
- 类型：`feat`（新功能）、`fix`（修复）、`docs`（文档）、`style`（格式）、`refactor`（重构）、`test`（测试）、`chore`（构建）
- 示例：`feat(user): 添加用户列表功能`

### 15.2 提交规范
- 每次提交只包含一个功能或修复
- 提交前检查代码格式
- 提交前运行测试（如有）

## 十七、总结

本规范文档涵盖了校园帮助系统前端开发的核心规范，包括：
- 技术栈选择（Vue 3、Vite、Element Plus、Pinia等）
- 项目结构设计
- 组件开发规范
- API接口调用规范
- 状态管理规范（Pinia）
- 路由管理规范
- 工具函数规范
- 代码质量规范
- 环境变量配置规范
- Vite配置规范
- Element Plus使用规范
- UI/UX设计规范（配色方案、布局、操作指引、错误提示、校园场景适配）
- 错误处理规范
- 性能优化规范
- 安全规范

开发团队应严格遵守本规范，确保代码质量和项目的可维护性，同时提供良好的用户体验，降低使用门槛，适合校园场景的普及。

