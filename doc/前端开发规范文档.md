# 校园帮系统前端开发规范文档

## 一、项目概述

### 1.1 技术栈

#### 前端技术栈
- **框架**：Vue 3.4.21
- **构建工具**：Vite 5.2.0
- **UI组件库**：Element Plus 2.6.3
- **图标库**：@element-plus/icons-vue 2.3.1
- **状态管理**：Pinia 2.1.7
- **路由**：Vue Router 4.3.0
- **HTTP客户端**：Axios 1.6.7
- **图表库**：ECharts 5.5.0
- **开发语言**：JavaScript (ES6+)

### 1.2 项目架构要求
- 前端采用组件化开发，模块化管理
- 前后端分离，通过RESTful API进行交互
- 使用Pinia进行状态管理
- 使用Vue Router进行路由管理
- 使用Axios进行HTTP请求封装

### 1.3 项目基础信息
- **项目名称**：校园帮系统前端
- **开发端口**：3000
- **API基础路径**：通过环境变量`VITE_APP_BASE_API`配置
- **请求超时时间**：通过环境变量`VITE_APP_TIMEOUT`配置

## 二、整体布局架构规范

### 2.0 系统布局结构

#### 2.0.1 布局组件说明

系统采用**布局组件 + 页面组件**的架构模式：

- **布局组件**（`src/layouts/`）：定义页面的整体结构（导航栏、侧边栏、主内容区等）
- **页面组件**（`src/views/`）：定义具体页面的内容
- **全局样式**（`src/assets/styles/global.css`）：统一的配色方案、布局样式、工具类

#### 2.0.2 布局组件类型

系统提供两种主要布局方式：

1. **MainLayout.vue**（主布局）：用于所有需要顶部导航栏的页面
   - 包含：顶部导航栏（Logo、主导航菜单、搜索框、发布按钮、用户菜单）、主内容区、底部导航栏（移动端）、消息通知面板、返回顶部按钮
   - 适用页面：首页、失物招领、闲置交易、跑腿服务、个人中心、实名认证等所有业务页面
   - 特点：功能完整，包含首页欢迎横幅、功能模块导航、各业务模块展示等
   - **统一布局**：所有页面统一使用 MainLayout，确保用户体验一致

2. **无布局**：用于认证页面（登录、注册、忘记密码）
   - 这些页面使用独立的左右分栏布局
   - 不使用任何布局组件，直接渲染页面内容

#### 2.0.3 MainLayout 布局结构（基于实际实现）

**完整结构：**

```vue
<template>
  <div class="main-layout">
    <!-- 顶部导航栏 -->
    <header class="main-header">
      <div class="header-container">
        <!-- 左侧：Logo + 系统名称 -->
        <div class="header-left">
          <div class="logo-wrapper">
            <div class="logo-icon">
              <el-icon><Box /></el-icon>
            </div>
            <h1 class="logo-text">{{ appConfig.title }}</h1>
          </div>
        </div>
        
        <!-- 中间：主导航菜单 -->
        <div class="header-center">
          <el-menu mode="horizontal" :default-active="activeMenu">
            <el-menu-item index="home">首页</el-menu-item>
            <el-menu-item index="lost-found">失物招领</el-menu-item>
            <el-menu-item index="goods">闲置交易</el-menu-item>
            <el-menu-item index="task">跑腿服务</el-menu-item>
          </el-menu>
        </div>
        
        <!-- 右侧：搜索框、发布按钮、用户菜单 -->
        <div class="header-right">
          <el-input v-model="searchKeyword" placeholder="搜索..." />
          <el-button type="primary" @click="handlePublish">发布信息</el-button>
          <el-dropdown>
            <span class="user-info">
              <el-avatar :src="userStore.userInfo?.avatar" />
              <span class="nickname">{{ userStore.nickname }}</span>
            </span>
            <template #dropdown>
              <!-- 用户下拉菜单 -->
            </template>
          </el-dropdown>
        </div>
      </div>
    </header>
    
    <!-- 主内容区 -->
    <main class="main-content">
      <!-- 首页内容（当路由为 /home 或 / 时） -->
      <section class="welcome-banner">...</section>
      <section class="feature-modules">...</section>
      <section class="lost-found-section">...</section>
      <section class="goods-section">...</section>
      <section class="task-section">...</section>
      <section class="credit-section">...</section>
      <section class="stats-section">...</section>
      
      <!-- 其他页面内容（通过 router-view 渲染） -->
      <router-view v-if="route.path !== '/home' && route.path !== '/'" />
    </main>
    
    <!-- 底部导航栏（移动端） -->
    <nav class="bottom-nav" v-if="isMobile">
      <div class="nav-item" @click="goToRoute('/home')">首页</div>
      <div class="nav-item" @click="goToRoute('/lost-found/list')">失物招领</div>
      <div class="nav-item publish-nav-item" @click="handlePublish">发布</div>
      <div class="nav-item" @click="goToRoute('/goods/list')">闲置</div>
      <div class="nav-item" @click="goToRoute('/task/list')">我的</div>
    </nav>
    
    <!-- 消息通知面板 -->
    <div class="notification-panel" v-if="showNotificationPanel">...</div>
    
    <!-- 消息通知按钮 -->
    <div class="notification-btn-wrapper">
      <el-badge :value="unreadCount">
        <el-button circle type="primary" @click="showNotificationPanel = !showNotificationPanel">
          <el-icon><Bell /></el-icon>
        </el-button>
      </el-badge>
    </div>
    
    <!-- 返回顶部按钮 -->
    <el-backtop :right="isMobile ? 20 : 100" :bottom="isMobile ? 80 : 100" />
  </div>
</template>
```

**关键特性：**
- 顶部导航栏固定（`position: sticky`），高度 60px
- 主内容区最大宽度 1400px，居中显示
- 移动端显示底部导航栏，PC端隐藏
- 消息通知按钮固定在右下角
- 首页内容直接嵌入在 MainLayout 中，其他页面通过 `router-view` 渲染

#### 2.0.4 顶部导航栏规范

**结构组成：**
- **左侧**：Logo + 系统名称
- **中间**：主导航菜单（首页、失物招领、闲置交易、跑腿服务、关于我们）
- **右侧**：搜索框、发布按钮、用户下拉菜单、移动端菜单按钮

**样式规范：**
```css
.main-header {
  position: sticky; /* 固定顶部 */
  top: 0;
  z-index: 1000;
  height: 60px;
  background-color: #FFFFFF;
  border-bottom: 1px solid #E0E0E0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.header-container {
  max-width: 1400px; /* 内容最大宽度 */
  margin: 0 auto;
  padding: 0 20px;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
```

**导航菜单样式：**
- 菜单项高度：60px
- 激活状态：主色文字 + 底部2px实线边框
- 悬停效果：主色文字
- 字体大小：15px

#### 2.0.5 主内容区规范

**结构规范：**
```css
.main-content {
  flex: 1;
  max-width: 1400px; /* 内容最大宽度，居中显示 */
  margin: 0 auto;
  width: 100%;
  padding: 20px;
  min-height: calc(100vh - 60px);
  background-color: #F5F5F5; /* 页面主背景 */
}
```

**内容区域布局：**
- 使用 `max-width: 1400px` 限制内容宽度，大屏居中显示
- 内边距：20px（PC端），16px（移动端）
- 背景色：`#F5F5F5`

#### 2.0.6 底部导航栏规范（移动端）

**显示条件：** 仅在移动端（宽度 < 768px）显示

**结构组成：**
- 首页、失物招领、发布（居中突出）、闲置、我的

**样式规范：**
```css
.bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 60px;
  background-color: #FFFFFF;
  border-top: 1px solid #E0E0E0;
  display: flex;
  justify-content: space-around;
  z-index: 999;
}

.publish-nav-item {
  /* 发布按钮居中突出显示 */
  position: relative;
  margin-top: -20px;
}
```

#### 2.0.7 消息通知规范（基于 MainLayout.vue）

**通知按钮：**
- 位置：固定右下角，距离底部80px（移动端）或100px（PC端），距离右侧20px（移动端）或100px（PC端）
- 样式：圆形主色按钮（48x48px），带未读消息徽章（`el-badge`）
- 功能：点击显示/隐藏通知面板

**通知面板：**
- 位置：通知按钮上方，固定定位
- 尺寸：320px 宽（PC端），`calc(100% - 32px)`（移动端）
- 最大高度：500px，超出可滚动
- 内容：通知列表，支持标记已读
- 样式：白色背景，圆角8px，阴影，边框

**样式规范：**
```css
.notification-btn-wrapper {
  position: fixed;
  bottom: 80px; /* 移动端 */
  right: 20px; /* 移动端 */
  z-index: 1000;
}

.notification-btn {
  width: 48px;
  height: 48px;
  box-shadow: var(--shadow-md);
}

.notification-panel {
  position: fixed;
  bottom: 80px; /* 移动端 */
  right: 20px; /* 移动端 */
  width: 320px; /* PC端 */
  max-height: 500px;
  background-color: var(--color-bg-white);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);
  border: 1px solid var(--color-border);
  z-index: 1001;
}
```

#### 2.0.8 返回顶部按钮

使用 Element Plus 的 `el-backtop` 组件：
- PC端：右下角，距离底部和右侧各100px
- 移动端：右下角，距离底部80px（为底部导航栏留空间），距离右侧20px

**实现：**
```vue
<el-backtop :right="isMobile ? 20 : 100" :bottom="isMobile ? 80 : 100" />
```

#### 2.0.9 全局样式文件（global.css）

**文件位置：** `src/assets/styles/global.css`

**主要功能：**
1. **CSS变量定义**：统一的配色方案、间距、圆角、阴影等
2. **全局重置样式**：基础字体、颜色、背景等
3. **布局样式**：主布局、顶部导航栏、主内容区等
4. **组件样式**：卡片、按钮、输入框、徽章等
5. **工具类**：间距、文字对齐、flex布局等
6. **Element Plus样式覆盖**：菜单、下拉菜单、标签页等

**使用方式：**
- 在 `main.js` 中导入：`import '@/assets/styles/global.css'`
- 在组件中使用CSS变量：`color: var(--color-primary)`
- 使用工具类：`<div class="flex-center">`

**CSS变量列表：**
- 主色调：`--color-primary`、`--color-primary-hover`、`--color-primary-light`等
- 次要色：`--color-secondary`、`--color-secondary-hover`
- 状态色：`--color-success`、`--color-warning`、`--color-danger`、`--color-info`
- 中性色：`--color-dark`、`--color-light`、`--color-border`
- 文字色：`--color-text-primary`、`--color-text-regular`、`--color-text-secondary`
- 背景色：`--color-bg-primary`、`--color-bg-white`、`--color-bg-card`
- 布局：`--header-height`、`--content-max-width`、`--content-padding`
- 阴影：`--shadow-sm`、`--shadow-md`、`--shadow-lg`
- 圆角：`--radius-sm`、`--radius-md`、`--radius-lg`等
- 间距：`--spacing-xs`、`--spacing-sm`、`--spacing-md`等


#### 2.0.11 页面内容区域布局规范

**标准页面结构：**

```vue
<template>
  <div class="page-container">
    <!-- 页面标题区域 -->
    <div class="page-header">
      <h1 class="page-title">页面标题</h1>
      <div class="page-actions">
        <!-- 操作按钮 -->
      </div>
    </div>
    
    <!-- 筛选区域（如需要） -->
    <div class="filter-section">
      <!-- 筛选条件 -->
    </div>
    
    <!-- 内容区域 -->
    <div class="content-section">
      <!-- 列表、卡片、表单等 -->
    </div>
    
    <!-- 分页区域（如需要） -->
    <div class="pagination-section">
      <!-- 分页组件 -->
    </div>
  </div>
</template>

<style scoped>
.page-container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 20px;
}

.page-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px;
}

.page-title {
  font-size: 28px;
  font-weight: bold;
  color: #303133;
  margin: 0;
}

.filter-section {
  background-color: #FFFFFF;
  border-radius: 8px;
  padding: 20px;
  margin-bottom: 20px;
  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);
  border: 1px solid #E0E0E0;
}

.content-section {
  /* 内容区域样式 */
}

.pagination-section {
  margin-top: 20px;
  display: flex;
  justify-content: flex-end;
}
</style>
```

#### 2.0.12 响应式布局规范（基于 MainLayout.vue）

**断点设置：**
- **移动端**：`< 768px`
- **平板端**：`768px - 1024px`
- **PC端**：`> 1024px`

**响应式策略：**
- 移动端：隐藏中间导航菜单，显示底部导航栏，搜索框隐藏，昵称隐藏，显示移动端菜单按钮
- 平板端：导航菜单可折叠，内容区域自适应，搜索框宽度缩小
- PC端：完整显示所有功能

**媒体查询示例（基于 MainLayout.vue）：**
```css
/* 平板端 */
@media (max-width: 1024px) {
  .header-center {
    display: none; /* 隐藏中间导航 */
  }
  
  .search-wrapper {
    width: 150px; /* 缩小搜索框 */
  }
  
  .publish-btn {
    display: none; /* 隐藏发布按钮 */
  }
}

/* 移动端 */
@media (max-width: 768px) {
  .header-container {
    padding: 0 16px; /* 减少内边距 */
  }
  
  .logo-text {
    font-size: 18px; /* 缩小Logo文字 */
  }
  
  .search-wrapper {
    display: none; /* 隐藏搜索框 */
  }
  
  .nickname {
    display: none; /* 隐藏昵称 */
  }
  
  .mobile-menu-btn {
    display: block; /* 显示移动端菜单按钮 */
  }
  
  .main-content {
    padding: 16px; /* 减少内边距 */
    padding-bottom: 80px; /* 为底部导航栏留空间 */
  }
  
  .notification-panel {
    width: calc(100% - 32px); /* 全宽减去边距 */
    right: 16px;
    bottom: 80px;
  }
  
  .notification-btn-wrapper {
    bottom: 80px;
    right: 16px;
  }
  
  /* 内容区域响应式 */
  .banner-content {
    flex-direction: column; /* 垂直布局 */
  }
  
  .module-grid {
    grid-template-columns: 1fr; /* 单列 */
  }
  
  .card-grid,
  .goods-grid {
    grid-template-columns: 1fr; /* 单列 */
  }
  
  .credit-card {
    flex-direction: column; /* 垂直布局 */
  }
  
  .credit-metrics {
    grid-template-columns: 1fr; /* 单列 */
  }
  
  .charts-grid {
    grid-template-columns: 1fr; /* 单列 */
  }
  
  .stats-cards {
    grid-template-columns: 1fr; /* 单列 */
  }
}
```

## 二、项目结构规范

### 2.1 目录结构
```
campus-help-web/
├── public/                 # 静态资源
├── src/
│   ├── api/               # API接口定义
│   │   ├── index.js       # API入口文件
│   │   ├── module1.js     # 业务模块1 API
│   │   ├── module2.js     # 业务模块2 API
│   │   └── ...            # 其他业务模块
│   ├── assets/            # 资源文件（图片、样式等）
│   ├── components/        # 公共组件
│   │   ├── common/        # 通用组件
│   │   └── business/      # 业务组件
│   ├── config/            # 配置文件
│   │   └── index.js       # 全局配置
│   ├── router/            # 路由配置
│   │   ├── index.js       # 路由入口
│   │   └── guard.js       # 路由守卫
│   ├── stores/            # 状态管理（Pinia）
│   │   ├── api.js         # API相关状态
│   │   ├── user.js        # 用户相关状态
│   │   └── ...            # 其他状态模块
│   ├── utils/             # 工具函数
│   │   ├── request.js     # 请求封装
│   │   ├── auth.js        # 认证工具
│   │   ├── constants.js   # 常量定义
│   │   ├── echarts.js     # ECharts工具
│   │   └── index.js       # 工具函数入口
│   ├── layouts/           # 布局组件
│   │   └── MainLayout.vue # 主布局（带顶部导航栏）
│   ├── views/             # 页面组件
│   │   ├── Home.vue       # 首页
│   │   ├── Login.vue      # 登录页
│   │   ├── Register.vue    # 注册页
│   │   ├── ForgotPassword.vue # 忘记密码页
│   │   ├── lost-found/    # 失物招领模块
│   │   ├── goods/         # 闲置交易模块
│   │   ├── task/          # 跑腿服务模块
│   │   ├── chat/          # 聊天模块
│   │   ├── message/       # 消息模块
│   │   ├── post/          # 发布模块
│   │   ├── profile/       # 个人资料模块
│   │   ├── verification/  # 认证模块
│   │   └── admin/         # 管理后台模块
│   ├── App.vue            # 根组件
│   └── main.js            # 入口文件
├── index.html             # HTML入口
├── package.json           # 依赖配置
├── vite.config.js         # Vite配置
└── README.md              # 项目说明
```

### 2.2 目录结构设计原则
- **单一职责原则**：每个目录只负责一个功能模块
- **模块独立**：不同业务模块之间通过API交互，降低耦合
- **职责明确**：不同功能的组件分开，便于管理和维护
- **可扩展性**：目录结构支持项目扩展

### 2.3 Views目录组织规范

#### 2.3.1 组织原则
**views目录下的组件必须按模块组织，一个模块一个文件夹，而不是将所有相关组件放在一个通用目录（如user）下。**

#### 2.3.2 目录结构规范
```
views/
├── Home.vue              # 首页（独立页面）
├── Login.vue             # 登录页（独立页面）
├── Register.vue          # 注册页（独立页面）
├── ForgotPassword.vue    # 忘记密码页（独立页面）
├── lost-found/           # 失物招领模块
│   ├── List.vue          # 失物列表页
│   ├── Detail.vue        # 失物详情页
│   ├── Publish.vue       # 发布失物页
│   └── Edit.vue          # 编辑失物页
├── goods/                # 闲置交易模块
│   └── List.vue          # 商品列表页
├── task/                 # 跑腿服务模块
│   └── List.vue          # 任务列表页
├── chat/                 # 聊天模块
│   └── Chat.vue          # 聊天页面
├── message/              # 消息模块
│   └── Messages.vue      # 消息通知页面
├── post/                 # 发布模块
│   └── Posts.vue         # 我的发布页面
├── profile/              # 个人资料模块
│   └── Profile.vue       # 个人中心页面
├── verification/         # 认证模块
│   ├── Verification.vue  # 实名认证页面
│   └── components/       # 模块内组件
│       └── VerificationForm.vue
└── admin/                # 管理后台模块
    ├── Dashboard.vue     # 数据概览
    ├── Users.vue         # 用户管理
    └── Verification.vue   # 认证审核
```

#### 2.3.3 模块划分规则
- **按功能模块划分**：每个业务功能模块创建独立的文件夹
- **模块内组件**：如果模块内有多个相关组件，可以在模块文件夹下创建`components`子目录
- **避免通用目录**：不要将所有用户相关页面放在`user`目录下，应按具体功能模块拆分
  - ❌ 错误示例：`views/user/Chat.vue`、`views/user/Messages.vue`、`views/user/Posts.vue`
  - ✅ 正确示例：`views/chat/Chat.vue`、`views/message/Messages.vue`、`views/post/Posts.vue`

#### 2.3.4 路由路径规范
虽然views目录按模块组织，但路由路径可以保持原有的`/user/xxx`格式，通过路由配置指向对应的模块目录：
```javascript
{
  path: 'user/chat',
  name: 'UserChat',
  component: () => import('../views/chat/Chat.vue'),  // 指向chat模块
  meta: {
    title: '聊天',
    requiresAuth: true
  }
}
```

#### 2.3.5 命名规范
- **模块目录**：使用小写字母，多个单词用连字符分隔（如：`lost-found`）或直接拼接（如：`verification`）
- **页面组件**：使用大驼峰命名（如：`Chat.vue`、`Messages.vue`）
- **模块内组件**：放在模块目录下的`components`子目录中

## 三、组件开发规范

### 3.1 组件命名规范
- 组件文件使用大驼峰命名，如：`UserList.vue`、`OrderDetail.vue`
- 组件名必须具有业务含义，避免使用通用名称
- 公共组件放在`components/common`目录
- 业务组件放在`components/business`目录
- 页面组件放在`views`目录

### 3.2 组件结构规范
```vue
<template>
  <!-- 模板内容 -->
  <div class="component-name">
    <!-- 组件内容 -->
  </div>
</template>

<script setup>
// 导入依赖
import { ref, reactive, computed, onMounted } from 'vue'
import { useRouter } from 'vue-router'

// 定义Props
const props = defineProps({
  // props定义
})

// 定义Emits
const emit = defineEmits(['event-name'])

// 响应式数据
const data = ref(null)
const form = reactive({
  // 表单数据
})

// 计算属性
const computedValue = computed(() => {
  // 计算逻辑
})

// 方法
const handleClick = () => {
  // 处理逻辑
}

// 生命周期
onMounted(() => {
  // 初始化逻辑
})
</script>

<style scoped>
.component-name {
  /* 样式内容 */
}
</style>
```

### 3.3 组件注释规范
- 组件文件头部添加组件说明
- 组件注释只包含功能描述，不包含作者和日期信息
- **禁止在注释中使用HTML标签**
- 复杂逻辑添加行内注释
- 方法添加注释说明功能

**示例：**
```vue
<script setup>
/**
 * 用户列表组件
 * 功能：展示用户列表，支持分页、搜索、新增、编辑、删除
 */

// 导入依赖
import { ref } from 'vue'

// 用户列表数据
const userList = ref([])

/**
 * 获取用户列表
 */
const getUserList = async () => {
  // 获取逻辑
}
</script>
```

## 四、API接口调用规范

### 4.1 API文件组织
- **按业务模块划分API目录**：每个业务模块创建独立的API文件
- **统一导出**：在`api/index.js`中统一导出所有API对象
- **文件命名规范**：使用小驼峰命名，如：`auth.js`、`user.js`、`lostFound.js`
- **API对象命名规范**：使用模块名 + `Api`，如：`authApi`、`userApi`、`lostFoundApi`
- API方法命名使用动词开头，如：`getUserList`、`addUser`、`updateUser`、`deleteUser`

### 4.2 API文件目录结构
```
api/
├── index.js          # API统一导出入口
├── auth.js           # 认证相关 API
├── user.js           # 用户相关 API
├── file.js           # 文件相关 API
├── admin.js          # 管理员相关 API
├── message.js        # 系统消息相关 API
├── lostFound.js      # 失物招领相关 API
├── goods.js          # 闲置交易相关 API（待实现）
├── task.js           # 跑腿服务相关 API（待实现）
└── chat.js           # 聊天相关 API（待实现）
```

### 4.3 API文件示例（推荐方式：对象导出）
```javascript
// api/user.js
import request from '@/utils/request'

/**
 * 用户相关 API
 */
export const userApi = {
  /**
   * 获取当前用户信息
   * @returns {Promise} 用户信息
   */
  getCurrentUser() {
    return request.get('/user/current')
  },
  
  /**
   * 更新当前用户信息
   * @param {Object} data 用户信息
   * @returns {Promise} 更新结果
   */
  updateCurrentUser(data) {
    return request.put('/user/current', data)
  },
  
  /**
   * 分页查询用户列表（管理员）
   * @param {Object} params 查询参数
   * @returns {Promise} 用户列表
   */
  getUserPage(params) {
    return request.get('/user/page', { params })
  },
  
  /**
   * 根据ID获取用户信息（管理员）
   * @param {Number} id 用户ID
   * @returns {Promise} 用户信息
   */
  getUserById(id) {
    return request.get(`/user/${id}`)
  }
}
```

### 4.4 API文件示例（可选方式：函数导出）
```javascript
// api/user.js
import request from '@/utils/request'

/**
 * 获取用户列表
 * @param {Object} params 查询参数
 * @returns {Promise} 用户列表
 */
export function getUserList(params) {
  return request.get('/user/page', { params })
}

/**
 * 新增用户
 * @param {Object} data 用户信息
 * @returns {Promise} 新增结果
 */
export function addUser(data) {
  return request.post('/user', data)
}

/**
 * 更新用户
 * @param {Number} id 用户ID
 * @param {Object} data 用户信息
 * @returns {Promise} 更新结果
 */
export function updateUser(id, data) {
  return request.put(`/user/${id}`, data)
}

/**
 * 删除用户
 * @param {Number} id 用户ID
 * @returns {Promise} 删除结果
 */
export function deleteUser(id) {
  return request.delete(`/user/${id}`)
}
```

### 4.5 API统一导出
```javascript
// api/index.js
/**
 * API统一导出入口
 * 按业务模块划分，每个模块创建独立的API文件
 */

// 认证相关 API
export { authApi } from './auth'

// 用户相关 API
export { userApi } from './user'

// 文件相关 API
export { fileApi } from './file'

// 管理员相关 API
export { adminApi } from './admin'

// 系统消息相关 API
export { messageApi } from './message'

// 失物招领相关 API
export { lostFoundApi } from './lostFound'

// 可以继续添加其他模块的 API
// export { goodsApi } from './goods'
// export { taskApi } from './task'
// export { chatApi } from './chat'
```

### 4.6 API使用示例
```javascript
// 在组件中使用
import { userApi, lostFoundApi } from '@/api'

// 获取用户信息
const user = await userApi.getCurrentUser()

// 获取失物列表
const list = await lostFoundApi.getList({ pageNum: 1, pageSize: 10 })
```

### 4.6 请求封装规范
- 统一使用`@/utils/request.js`中的axios实例进行HTTP请求
- 请求拦截器：自动添加Token、设置请求头
- 响应拦截器：统一处理响应、错误处理
- 请求超时时间：通过环境变量配置（默认60秒）

### 4.7 请求方法规范
- **GET请求**：使用`params`传递查询参数，使用`request.get(url, { params })`
- **POST请求**：使用`data`传递请求体，使用`request.post(url, data, config)`
- **PUT请求**：使用`data`传递请求体，使用`request.put(url, data)`
- **DELETE请求**：路径参数通过URL传递，使用`request.delete(url)`

**示例：**
```javascript
// GET请求
getUserList(params) {
  return request.get('/user/page', { params })
}

// POST请求
addUser(data) {
  return request.post('/user', data)
}

// PUT请求
updateUser(id, data) {
  return request.put(`/user/${id}`, data)
}

// DELETE请求
deleteUser(id) {
  return request.delete(`/user/${id}`)
}

// POST请求（带查询参数）
resetPassword(email, code, newPassword) {
  return request.post('/auth/reset-password', null, {
    params: { email, code, newPassword }
  })
}
```

### 4.8 API注释规范
- 每个API文件顶部添加模块说明注释
- 每个API方法添加JSDoc注释，包含：
  - 方法功能说明
  - `@param` 参数说明（参数名、类型、说明）
  - `@returns` 返回值说明

**示例：**
```javascript
/**
 * 用户相关 API
 */
export const userApi = {
  /**
   * 获取当前用户信息
   * @returns {Promise} 用户信息
   */
  getCurrentUser() {
    return request.get('/user/current')
  },
  
  /**
   * 分页查询用户列表
   * @param {Object} params 查询参数（pageNum, pageSize, email, nickname等）
   * @returns {Promise} 用户列表分页数据
   */
  getUserPage(params) {
    return request.get('/user/page', { params })
  }
}
```

## 五、状态管理规范（Pinia）

### 5.1 Store文件组织
- Store文件放在`stores`目录下
- 按业务模块划分Store，如：`user.js`、`order.js`
- Store命名使用小驼峰，如：`useUserStore`、`useOrderStore`

### 5.2 Store结构规范
```javascript
// stores/user.js
import { defineStore } from 'pinia'
import { getUserInfo } from '@/api/user'

/**
 * 用户状态管理
 */
export const useUserStore = defineStore('user', {
  state: () => ({
    // 用户信息
    userInfo: null,
    // Token
    token: localStorage.getItem('campus_help_token') || '',
    // 刷新Token
    refreshToken: localStorage.getItem('campus_help_refresh_token') || ''
  }),

  getters: {
    /**
     * 是否已登录
     */
    isLoggedIn: (state) => {
      return !!state.token
    }
  },

  actions: {
    /**
     * 设置用户信息
     * @param {Object} userInfo 用户信息
     */
    setUserInfo(userInfo) {
      this.userInfo = userInfo
    },

    /**
     * 设置Token
     * @param {String} token Token
     */
    setToken(token) {
      this.token = token
      localStorage.setItem('campus_help_token', token)
    },

    /**
     * 获取用户信息
     */
    async fetchUserInfo() {
      try {
        const res = await getUserInfo()
        this.setUserInfo(res.data)
      } catch (error) {
        console.error('获取用户信息失败:', error)
      }
    },

    /**
     * 退出登录
     */
    logout() {
      this.userInfo = null
      this.token = ''
      this.refreshToken = ''
      localStorage.removeItem('campus_help_token')
      localStorage.removeItem('campus_help_refresh_token')
    }
  }
})
```

### 5.3 Store使用规范
- 在组件中使用`useStore()`获取Store实例
- 使用`store.xxx`访问state
- 使用`store.xxx()`调用actions
- 使用`store.xxx`访问getters

**示例：**
```vue
<script setup>
import { useUserStore } from '@/stores/user'

const userStore = useUserStore()

// 访问state
const userInfo = userStore.userInfo

// 调用action
userStore.fetchUserInfo()

// 访问getter
const isLoggedIn = userStore.isLoggedIn
</script>
```

## 六、路由管理规范

### 6.1 路由文件组织
- 路由配置文件：`router/index.js`
- 路由守卫文件：`router/guard.js`
- 路由按业务模块组织，使用嵌套路由

### 6.2 路由配置规范

#### 6.2.1 布局组件使用

路由配置中，通过 `component` 指定布局组件，通过 `children` 配置子路由（页面组件）：

```javascript
// router/index.js
import { createRouter, createWebHistory } from 'vue-router'
import { setupRouterGuard } from './guard'
import MainLayout from '@/layouts/MainLayout.vue'

const routes = [
  // 认证页面（无布局）
  {
    path: '/login',
    name: 'Login',
    component: () => import('@/views/Login.vue'),
    meta: {
      title: '登录',
      requiresAuth: false
    }
  },
  {
    path: '/register',
    name: 'Register',
    component: () => import('@/views/Register.vue'),
    meta: {
      title: '注册',
      requiresAuth: false
    }
  },
  
  // 主布局（带顶部导航栏）- 所有业务页面统一使用
  {
    path: '/',
    component: MainLayout,
    redirect: '/home',
    meta: {
      requiresAuth: true
    },
    children: [
      {
        path: 'home',
        name: 'Home',
        component: () => import('@/views/Home.vue'),
        meta: {
          title: '首页',
          requiresAuth: true
        }
      },
      {
        path: 'lost-found/list',
        name: 'LostFoundList',
        component: () => import('@/views/lost-found/List.vue'),
        meta: {
          title: '失物招领',
          requiresAuth: true
        }
      },
      {
        path: 'user/profile',
        name: 'UserProfile',
        component: () => import('@/views/user/Profile.vue'),
        meta: {
          title: '个人中心',
          requiresAuth: true
        }
      },
      {
        path: 'user/verification',
        name: 'UserVerification',
        component: () => import('@/views/user/Verification.vue'),
        meta: {
          title: '实名认证',
          requiresAuth: true
        }
      }
    ]
  }
]
```

#### 6.2.2 路由配置示例

const router = createRouter({
  history: createWebHistory(),
  routes
})

// 设置路由守卫
setupRouterGuard(router)

export default router
```

#### 6.2.3 布局选择指南

**使用 MainLayout 的场景（统一使用）：**
- 所有业务页面统一使用 MainLayout
- 首页、列表页、详情页等需要顶部导航栏的页面
- 个人中心、实名认证等用户管理页面
- 需要搜索功能的页面
- 需要快速发布入口的页面
- **注意**：系统已统一使用 MainLayout，不再使用 BasicLayout

**不使用布局的场景：**
- 登录、注册、忘记密码等认证页面
- 这些页面使用独立的左右分栏布局

### 6.3 路由守卫规范
```javascript
// router/guard.js
import { getToken } from '@/utils/auth'

/**
 * 设置路由守卫
 * @param {Router} router Vue Router实例
 */
export function setupRouterGuard(router) {
  // 前置守卫
  router.beforeEach((to, from, next) => {
    // 设置页面标题
    if (to.meta.title) {
      document.title = `${to.meta.title} - 校园帮系统`
    }

    // 检查是否需要登录
    if (to.meta.requiresAuth) {
      const token = getToken()
      if (!token) {
        // 未登录，跳转到登录页
        next({
          name: 'Login',
          query: {
            redirect: to.fullPath
          }
        })
        return
      }
    }

    next()
  })

  // 后置守卫
  router.afterEach(() => {
    // 可以在这里处理一些后置逻辑，如埋点等
  })
}
```

### 6.4 路由命名规范
- 路由名称使用大驼峰，如：`UserList`、`OrderDetail`
- 路由路径使用小写字母和连字符，如：`/user-list`、`/order-detail`
- 路由meta信息必须包含`title`和`requiresAuth`字段

## 七、工具函数规范

### 7.1 请求封装（request.js）
- 统一使用axios进行HTTP请求
- 请求拦截器：添加Token、设置请求头
- 响应拦截器：统一处理响应、错误处理
- 请求超时时间：通过环境变量配置

**关键配置：**
```javascript
// utils/request.js
import axios from 'axios'
import { ElMessage, ElMessageBox } from 'element-plus'
import { getToken, removeToken } from './auth'

const service = axios.create({
  baseURL: import.meta.env.VITE_APP_BASE_API,
  timeout: parseInt(import.meta.env.VITE_APP_TIMEOUT),
  headers: {
    'Content-Type': 'application/json'
  }
})

// 请求拦截器
service.interceptors.request.use(
  (config) => {
    const token = getToken()
    if (token) {
      config.headers['Authorization'] = `Bearer ${token}`
    }
    return config
  },
  (error) => {
    return Promise.reject(error)
  }
)

// 响应拦截器
service.interceptors.response.use(
  (response) => {
    const res = response.data
    if (res.code !== 200) {
      ElMessage.error(res.message || '请求失败')
      if (res.code === 401) {
        // 未授权，清除token并跳转登录
        removeToken()
        location.reload()
      }
      return Promise.reject(new Error(res.message || '请求失败'))
    }
    return res
  },
  (error) => {
    // 错误处理
    return Promise.reject(error)
  }
)

export default service
```

### 7.2 认证工具（auth.js）
- Token存储：使用`localStorage`
- Token键名：`campus_help_token`
- 刷新Token键名：`campus_help_refresh_token`
- 用户信息键名：`campus_help_user_info`

**关键方法：**
```javascript
// utils/auth.js
const TOKEN_KEY = 'campus_help_token'
const REFRESH_TOKEN_KEY = 'campus_help_refresh_token'
const USER_INFO_KEY = 'campus_help_user_info'

/**
 * 获取Token
 */
export function getToken() {
  return localStorage.getItem(TOKEN_KEY)
}

/**
 * 设置Token
 */
export function setToken(token) {
  localStorage.setItem(TOKEN_KEY, token)
}

/**
 * 移除Token
 */
export function removeToken() {
  localStorage.removeItem(TOKEN_KEY)
  localStorage.removeItem(REFRESH_TOKEN_KEY)
  localStorage.removeItem(USER_INFO_KEY)
}
```

### 7.3 常量定义（constants.js）
- 所有常量统一在`utils/constants.js`中定义
- 常量使用大写下划线命名，如：`API_BASE_URL`、`TOKEN_KEY`
- 常量按功能分组，添加注释说明

**示例：**
```javascript
// utils/constants.js
// API 路径
export const API_BASE_URL = import.meta.env.VITE_APP_BASE_API

// 请求超时时间
export const REQUEST_TIMEOUT = parseInt(import.meta.env.VITE_APP_TIMEOUT)

// Token 相关
export const TOKEN_KEY = 'campus_help_token'
export const REFRESH_TOKEN_KEY = 'campus_help_refresh_token'
export const USER_INFO_KEY = 'campus_help_user_info'

// 响应状态码
export const RESPONSE_CODE = {
  SUCCESS: 200,
  UNAUTHORIZED: 401,
  FORBIDDEN: 403,
  NOT_FOUND: 404,
  SERVER_ERROR: 500
}
```

## 八、代码质量规范

### 8.1 控制流嵌套规范
- **嵌套层级限制**：方法中的 if/else 嵌套层级不应超过 3 层
- **提取方法**：当嵌套层级超过 3 层时，必须提取为独立函数
- **提前返回**：优先使用提前返回（Early Return）模式，减少嵌套

**示例：避免深层嵌套**
```javascript
// ❌ 错误示例：嵌套层级过深
function processData(data) {
  if (data) {
    if (data.items) {
      if (data.items.length > 0) {
        // 处理逻辑
      }
    }
  }
}

// ✅ 正确示例：提前返回
function processData(data) {
  if (!data) return
  if (!data.items) return
  if (data.items.length === 0) return
  
  // 处理逻辑
}
```

### 8.2 函数长度规范
- **函数长度限制**：单个函数代码行数不应超过 80 行
- **职责单一**：函数应只做一件事，保持职责单一
- **提取函数**：当函数过长时，应提取为多个独立函数

### 8.3 代码可读性规范
- **函数命名**：函数名应清晰表达函数功能
- **注释规范**：复杂业务逻辑必须添加注释说明
- **变量命名**：变量名应具有业务含义，避免使用单字母变量

### 8.4 变量命名规范
- **变量命名**：使用小驼峰，如：`userName`、`orderList`
- **常量命名**：使用大写下划线，如：`API_BASE_URL`、`TOKEN_KEY`
- **函数命名**：使用动词开头，如：`getUserList`、`addUser`
- **组件命名**：使用大驼峰，如：`UserList`、`OrderDetail`

### 8.5 代码格式规范
- 使用2个空格缩进
- 使用单引号（'）而非双引号（"）
- 语句末尾不使用分号（根据项目配置）
- 对象和数组最后一个元素后不加逗号（根据项目配置）

## 九、环境变量配置规范

### 9.1 环境变量文件
- 开发环境：`.env.development`
- 生产环境：`.env.production`
- 环境变量必须以`VITE_`开头

### 9.2 环境变量配置
```bash
# .env.development
# 应用标题
VITE_APP_TITLE=校园帮系统

# API 基础路径
VITE_APP_BASE_API=/api

# 请求超时时间（毫秒）
VITE_APP_TIMEOUT=30000

# 服务器端口
VITE_SERVER_PORT=3000

# 代理目标地址
VITE_SERVER_PROXY_TARGET=http://localhost:8080
```

### 9.3 环境变量使用
```javascript
// 使用环境变量
const baseURL = import.meta.env.VITE_APP_BASE_API
const timeout = parseInt(import.meta.env.VITE_APP_TIMEOUT)
```

## 十、Vite配置规范

### 10.1 Vite配置文件
- 配置文件：`vite.config.js`
- 使用环境变量配置代理和端口
- 配置路径别名：`@`指向`src`目录

### 10.2 Vite配置示例
```javascript
// vite.config.js
import { defineConfig, loadEnv } from 'vite'
import vue from '@vitejs/plugin-vue'
import { fileURLToPath, URL } from 'node:url'

export default defineConfig(({ mode }) => {
  const env = loadEnv(mode, process.cwd())
  
  const serverPort = parseInt(env.VITE_SERVER_PORT)
  const proxyTarget = env.VITE_SERVER_PROXY_TARGET
  const baseApi = env.VITE_APP_BASE_API

  return {
    plugins: [vue()],
    server: {
      port: serverPort,
      proxy: {
        [baseApi]: {
          target: proxyTarget,
          changeOrigin: true,
          rewrite: (path) => path.replace(new RegExp(`^${baseApi}`), '')
        }
      }
    },
    resolve: {
      alias: {
        '@': fileURLToPath(new URL('./src', import.meta.url))
      }
    }
  }
})
```

## 十一、Element Plus使用规范

### 11.1 组件导入规范
- 按需导入：只导入使用的组件，减少打包体积
- 全局注册：在`main.js`中注册常用组件

### 11.2 组件使用规范
- 使用Element Plus提供的组件，保持UI风格统一
- 遵循Element Plus的设计规范
- 自定义样式使用`scoped`，避免全局污染

### 11.3 表单验证规范
- 使用Element Plus的表单验证功能
- 表单规则统一在组件内定义
- 错误提示信息清晰明确

**示例：**
```vue
<template>
  <el-form :model="form" :rules="rules" ref="formRef">
    <el-form-item label="用户名" prop="username">
      <el-input v-model="form.username" />
    </el-form-item>
  </el-form>
</template>

<script setup>
const form = reactive({
  username: ''
})

const rules = {
  username: [
    { required: true, message: '请输入用户名', trigger: 'blur' }
  ]
}
</script>
```

## 十二、UI/UX设计规范

### 12.0 现代UI设计规范（统一标准）

#### 12.0.1 设计原则
所有页面样式都应遵循登录、注册页的现代UI设计风格，确保整个系统视觉统一、现代简洁。

**核心设计理念：**
- **简洁现代**：采用卡片式设计，柔和的背景色，清晰的层次结构
- **视觉统一**：所有页面使用相同的设计语言和视觉元素
- **用户体验优先**：注重交互反馈，提供流畅的操作体验
- **响应式适配**：完美适配PC、平板、手机等不同设备

#### 12.0.2 页面布局规范

##### 12.0.2.1 左右分栏布局（适用于登录、注册、忘记密码等认证页面）
```css
/* 容器布局 */
.page-container {
  display: flex;
  min-height: 100vh;
  background-color: #F5F5F5; /* 页面主背景 */
}

/* 左侧展示区域（60%） */
.page-left {
  flex: 0 0 60%;
  background-color: #F5F5F5; /* 浅灰色背景 */
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 60px 80px;
  position: relative;
  overflow: hidden;
}

/* 右侧内容区域（40%） */
.page-right {
  flex: 0 0 40%;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #FFFFFF; /* 白色背景 */
  padding: 40px;
}
```

##### 12.0.2.2 内容区域布局（适用于普通页面）
```css
/* 页面容器 */
.page-container {
  min-height: 100vh;
  background-color: #F5F5F5; /* 页面主背景 */
  padding: 20px;
}

/* 内容区域 */
.content-wrapper {
  max-width: 1200px;
  margin: 0 auto;
  background-color: #FFFFFF; /* 白色背景 */
  border-radius: 8px;
  padding: 24px;
  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);
}
```

#### 12.0.3 卡片设计规范

##### 12.0.3.1 功能卡片（Feature Card）
用于展示功能特性、服务介绍等。

```css
.feature-card {
  flex: 1;
  background: rgba(255, 255, 255, 0.9); /* 白色半透明背景 */
  border-radius: 20px; /* 大圆角 */
  padding: 30px 20px;
  text-align: center;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1); /* 柔和阴影 */
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.feature-card:hover {
  transform: translateY(-5px); /* 悬停上浮效果 */
  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.15); /* 悬停阴影增强 */
}
```

##### 12.0.3.2 内容卡片（Content Card）
用于展示列表项、详情信息等。

```css
.content-card {
  background-color: #FFFFFF; /* 白色背景 */
  border-radius: 8px; /* 中等圆角 */
  padding: 20px;
  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05); /* 轻微阴影 */
  border: 1px solid #E0E0E0; /* 浅蓝色边框 */
  transition: all 0.3s ease;
}

.content-card:hover {
  box-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.1);
  border-color: #1E88E5; /* 悬停边框变深 */
}
```

#### 12.0.4 图标设计规范

##### 12.0.4.1 功能图标（Feature Icon）
用于功能卡片中的图标展示。

```css
.feature-icon {
  width: 80px;
  height: 80px;
  margin: 0 auto 20px;
  background: linear-gradient(135deg, #409eff 0%, #66b1ff 100%); /* 蓝色渐变 */
  border-radius: 50%; /* 圆形 */
  display: flex;
  align-items: center;
  justify-content: center;
  color: white; /* 白色图标 */
}
```

##### 12.0.4.2 普通图标
```css
.icon-normal {
  color: #1E88E5; /* 主色 */
  font-size: 20px;
}

.icon-normal:hover {
  color: #64B5F6; /* 悬停变浅 */
}
```

#### 12.0.5 标题和文字规范

##### 12.0.5.1 标题层次
```css
/* 系统标题（页面顶部大标题） */
.system-title {
  font-size: 42px;
  font-weight: bold;
  color: #303133; /* 深灰色 */
  text-align: center;
  margin-bottom: 50px;
  letter-spacing: 2px; /* 字间距 */
}

/* 页面主标题 */
.page-title {
  font-size: 36px;
  font-weight: bold;
  color: #303133;
  margin-bottom: 20px;
}

/* 卡片标题 */
.card-title {
  font-size: 18px;
  font-weight: bold;
  color: #303133;
  margin-bottom: 10px;
}

/* 表单标题 */
.form-title {
  font-size: 28px;
  font-weight: bold;
  color: #303133;
  margin: 0 0 8px 0;
}

/* 表单副标题 */
.form-subtitle {
  font-size: 14px;
  color: #909399; /* 次要文字色 */
  margin: 0 0 32px 0;
}
```

##### 12.0.5.2 描述文字
```css
/* 描述文字 */
.desc-text {
  font-size: 14px;
  color: #606266; /* 常规文字色 */
  line-height: 1.6;
}

/* 宣传文字 */
.promo-text {
  text-align: center;
}

.promo-text h1 {
  font-size: 36px;
  font-weight: bold;
  color: #303133;
  margin-bottom: 20px;
}

.promo-text p {
  font-size: 16px;
  color: #606266;
  line-height: 1.8;
}
```

#### 12.0.6 输入框设计规范

```css
/* 输入框基础样式 */
.el-input__wrapper {
  border-radius: 4px;
  box-shadow: 0 0 0 1px #E0E0E0 inset; /* 浅灰色边框 */
}

/* 输入框悬停状态 */
.el-input__wrapper:hover {
  box-shadow: 0 0 0 1px #1E88E5 inset; /* 主色边框 */
}

/* 输入框聚焦状态 */
.el-input.is-focus .el-input__wrapper {
  box-shadow: 0 0 0 1px #1E88E5 inset; /* 主色边框 */
}
```

#### 12.0.7 按钮设计规范

```css
/* 主要按钮 */
.btn-primary {
  background-color: #1E88E5; /* 主色 */
  color: #FFFFFF;
  border: none;
  border-radius: 4px;
  padding: 12px 24px;
  font-size: 14px;
  transition: all 0.3s ease;
}

.btn-primary:hover {
  background-color: #64B5F6; /* 浅色 */
  color: #1E88E5; /* 文字变主色 */
}

.btn-primary:active {
  background-color: #1E88E5;
  opacity: 0.9;
}
```

#### 12.0.8 间距规范

##### 12.0.8.1 页面间距
```css
/* 页面内边距 */
.page-padding {
  padding: 60px 80px; /* 左右分栏页面的左侧区域 */
  padding: 40px; /* 右侧区域或普通页面 */
}

/* 卡片间距 */
.card-gap {
  gap: 30px; /* 功能卡片之间的间距 */
  margin-bottom: 60px; /* 卡片与下方内容的间距 */
}

/* 内容间距 */
.content-gap {
  margin-bottom: 20px; /* 表单元素、内容块之间的间距 */
}
```

##### 12.0.8.2 卡片内边距
```css
/* 功能卡片内边距 */
.feature-card {
  padding: 30px 20px; /* 上下30px，左右20px */
}

/* 内容卡片内边距 */
.content-card {
  padding: 20px; /* 统一20px */
}
```

#### 12.0.9 响应式设计规范

##### 12.0.9.1 断点设置
```css
/* 移动端适配（宽度 < 1024px） */
@media (max-width: 1024px) {
  .page-container {
    flex-direction: column; /* 改为垂直布局 */
  }
  
  .page-left {
    flex: 0 0 auto; /* 取消固定宽度 */
    padding: 40px 20px; /* 减少内边距 */
  }
  
  .feature-cards {
    flex-direction: column; /* 卡片垂直排列 */
    gap: 20px; /* 减少间距 */
  }
  
  .system-title {
    font-size: 32px; /* 缩小标题 */
    margin-bottom: 30px;
  }
  
  .promo-text h1 {
    font-size: 28px; /* 缩小宣传标题 */
  }
}
```

#### 12.0.10 动画和过渡效果

##### 12.0.10.1 卡片悬停动画
```css
.feature-card {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.feature-card:hover {
  transform: translateY(-5px); /* 上浮5px */
  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.15); /* 阴影增强 */
}
```

##### 12.0.10.2 按钮过渡
```css
.btn-primary {
  transition: all 0.3s ease; /* 所有属性平滑过渡 */
}
```

#### 12.0.11 现代UI设计检查清单

在开发新页面时，请确保遵循以下检查清单：

- [ ] **布局**：使用左右分栏布局（认证页）或内容区域布局（普通页）
- [ ] **背景色**：页面主背景 `#F5F5F5`，左侧区域 `#F5F5F5`，内容区域 `#FFFFFF`
- [ ] **卡片**：使用白色半透明或白色背景，圆角20px（功能卡片）或8px（内容卡片），柔和阴影
- [ ] **图标**：功能图标使用80px圆形渐变背景，普通图标使用主色
- [ ] **标题**：系统标题42px，页面标题36px，卡片标题18px，表单标题28px
- [ ] **输入框**：浅灰色边框 `#E0E0E0`，聚焦时主色边框 `#1E88E5`
- [ ] **按钮**：主色背景 `#1E88E5`，悬停时深色背景 `#1976D2`
- [ ] **间距**：页面内边距60px 80px（左侧）或40px（右侧），卡片间距30px，内容间距20px
- [ ] **响应式**：移动端垂直布局，卡片垂直排列，字体缩小
- [ ] **动画**：卡片悬停上浮效果，按钮平滑过渡

#### 12.0.12 参考示例

**登录页面** (`src/views/Login.vue`) 和 **注册页面** (`src/views/Register.vue`) 是标准参考实现，所有新页面应参考这两个页面的设计风格。

### 12.1 配色方案规范

#### 12.1.1 主色调（2025年更新 - 统一配色方案）

**标准配色方案**：基于HTML设计稿的统一配色体系

- **主色调**：`#1E88E5`（校园蓝）
  - 用于：主要按钮、Logo图标、功能卡片图标、头像背景、链接文字、导航栏选中状态
  - 主色：`#1E88E5`（校园蓝）
  - 主色渐变：`linear-gradient(135deg, #1E88E5 0%, #42A5F5 100%)`
  
- **辅助色**：
  - 次要色：`#FF9800`（活力橙，用于次要按钮、跑腿服务等）
  - 次要色渐变：`linear-gradient(135deg, #FF9800 0%, #FFB74D 100%)`
  
- **背景色**：
  - 页面主背景：`#F5F5F5`（浅灰，light色）
  - 卡片背景：`#FFFFFF`（纯白）
  - 卡片渐变背景：`linear-gradient(135deg, #FFFFFF 0%, #F5F5F5 100%)`
  - 区块背景：`#F5F5F5`（浅灰）
  
- **边框色**：`#E0E0E0`（浅灰色边框）

- **纯色（用于文字、边框等）**：
  - 主色：`#1E88E5`（校园蓝）
  - 次要色：`#FF9800`（活力橙）
  - 深色：`#424242`（深灰，dark色，用于深色文字）
  - 浅色背景：`#F5F5F5`（浅灰，light色）

- **状态色**：
  - 成功：`#4CAF50`（成功绿）
  - 警告：`#FFC107`（警告黄）
  - 错误：`#F44336`（错误红）
  - 信息：`#909399`（灰色）

**设计原则**：
- ✅ 使用渐变色增强视觉层次和现代感
- ✅ 主要交互元素（按钮、图标）使用渐变
- ✅ 背景和边框使用纯色或浅色渐变
- ✅ 保持整体配色统一，所有页面遵循相同标准

#### 12.1.2 中性色
- **背景色**：
  - 主背景：`#F5F5F5`（浅灰，light色，页面主背景）
  - 次背景：`#F5F5F5`（浅灰，用于卡片、区块背景）
  - 卡片背景：`#FFFFFF`（白色，用于卡片内容区）
  - 边框色：`#E0E0E0`（浅灰色边框，用于卡片、输入框等）
- **文字色**：
  - 主文字：`#424242`（深灰，dark色，用于标题、重要文字）
  - 常规文字：`#606266`（中灰，用于正文）
  - 次要文字：`#909399`（浅灰，用于辅助信息、提示文字）
  - 占位文字：`#C0C4CC`（极浅灰，用于占位符）

#### 12.1.3 状态色
- **成功**：`#4CAF50`（成功绿，用于成功提示、完成状态）
- **警告**：`#FFC107`（警告黄，用于警告提示、待处理状态）
- **错误**：`#F44336`（错误红，用于错误提示、失败状态）
- **信息**：`#909399`（灰色，用于一般信息提示）

#### 12.1.4 配色使用示例（2025年更新）

```css
/* ✅ 正确示例：主要按钮使用主色 */
.button-primary {
  background-color: #1E88E5; /* 校园蓝 */
  border: none;
  color: #FFFFFF;
  box-shadow: 0 2px 8px rgba(30, 136, 229, 0.3);
}

.button-primary:hover {
  background-color: #1976D2; /* 深一点的蓝色 */
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(30, 136, 229, 0.4);
}

/* ✅ 正确示例：次要按钮使用次要色 */
.button-secondary {
  background-color: #FF9800; /* 活力橙 */
  border: none;
  color: #FFFFFF;
}

.button-secondary:hover {
  background-color: #F57C00; /* 深一点的橙色 */
}

/* ✅ 正确示例：功能卡片图标使用主色 */
.module-icon {
  background-color: #1E88E5; /* 校园蓝 */
  color: #FFFFFF;
  border-radius: 50%;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* ✅ 正确示例：卡片使用浅色背景 */
.module-card {
  background-color: #FFFFFF;
  border: 1px solid #E0E0E0;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);
}

/* ✅ 正确示例：页面主背景 */
.page-container {
  background-color: #F5F5F5; /* 浅灰 */
}

/* ✅ 正确示例：纯白卡片 */
.card {
  background-color: #FFFFFF;
  border: 1px solid #E0E0E0;
}

/* ✅ 正确示例：头像使用主色背景 */
.user-avatar {
  background-color: #1E88E5; /* 校园蓝 */
  color: #FFFFFF;
}

/* ✅ 正确示例：成功状态 */
.status-success {
  color: #4CAF50; /* 成功绿 */
  background-color: rgba(76, 175, 80, 0.1);
}

/* ✅ 正确示例：警告状态 */
.status-warning {
  color: #FFC107; /* 警告黄 */
  background-color: rgba(255, 193, 7, 0.1);
}

/* ✅ 正确示例：错误状态 */
.status-error {
  color: #F44336; /* 错误红 */
  background-color: rgba(244, 67, 54, 0.1);
}

/* ❌ 错误示例：使用旧的配色 */
.button-primary {
  background-color: #769fcd; /* 旧的主色（已废弃） */
}

/* ❌ 错误示例：使用过于鲜艳的颜色 */
.button-primary {
  background-color: #0000FF; /* 过于刺眼 */
}
```

#### 12.1.5 统一配色方案使用指南

**主色系（校园蓝 #1E88E5）**：
- 主色：`#1E88E5`（用于主要按钮、链接、选中状态、导航栏、图标）
- 主色hover：`#1976D2`（用于按钮、链接的hover状态）
- 主色浅色：`#64B5F6`（用于边框、输入框边框）
- 主色极浅：`#BBDEFB`（用于卡片背景、区块背景、hover背景）

**次要色系（活力橙 #FF9800）**：
- 次要色：`#FF9800`（用于次要按钮、跑腿服务等）
- 次要色hover：`#F57C00`（用于次要按钮的hover状态）

**中性色系**：
- 深色：`#424242`（用于深色文字、标题）
- 浅色背景：`#F5F5F5`（用于页面主背景、容器背景）
- 边框色：`#E0E0E0`（用于卡片边框、输入框边框）

**使用场景**：
- 导航栏选中状态：`#1E88E5`
- 主要按钮：`#1E88E5`，hover时`#1976D2`
- 次要按钮：`#FF9800`，hover时`#F57C00`
- 链接文字：`#1E88E5`，hover时`#1976D2`
- 卡片边框：`#E0E0E0`
- 卡片背景：`#FFFFFF`（白色）或`#F5F5F5`（浅灰）
- 页面主背景：`#F5F5F5`
- 输入框边框：`#E0E0E0`，focus时`#1E88E5`
- 图标/徽章：`#1E88E5`
- 分割线：`#E0E0E0`
- 成功状态：`#4CAF50`
- 警告状态：`#FFC107`
- 错误状态：`#F44336`

### 12.2 布局规范

#### 12.2.1 页面布局原则
- **简洁明了**：界面布局清晰，减少视觉干扰
- **信息层次**：重要信息突出，次要信息弱化
- **操作便捷**：常用功能易于访问，减少操作步骤
- **响应式设计**：适配不同屏幕尺寸（PC、平板、手机）
- **一致性**：同类页面保持一致的布局结构

#### 12.2.2 布局结构

##### 12.2.2.1 整体布局结构
```
┌─────────────────────────────────────────┐
│           顶部导航栏 (60px)              │
├──────────┬──────────────────────────────┤
│          │                              │
│  侧边栏  │        主内容区               │
│ (200px)  │      (自适应宽度)            │
│          │                              │
│          │                              │
├──────────┴──────────────────────────────┤
│           页脚 (40px)                    │
└─────────────────────────────────────────┘
```

##### 12.2.2.2 顶部导航栏
- **高度**：60px（固定）
- **背景色**：`#FFFFFF`（白色）
- **边框**：`1px solid #E0E0E0`（底部边框）
- **内容布局**：
  - 左侧：Logo + 系统名称（距离左边20px）
  - 中间：主导航菜单（水平排列，间距24px）
  - 右侧：搜索框、通知、用户头像（距离右边20px）
- **选中状态**：文字颜色`#1E88E5`，底部2px实线边框

##### 12.2.2.3 侧边栏（如需要）
- **宽度**：200px（展开），60px（收起）
- **背景色**：`#FFFFFF`（白色）
- **边框**：`1px solid #E0E0E0`（右侧边框）
- **菜单项**：
  - 高度：48px
  - 内边距：左侧20px，上下12px
  - 选中背景：`#E3F2FD`
  - 选中文字：`#1E88E5`
  - hover背景：`#F5F5F5`

##### 12.2.2.4 主内容区
- **最小宽度**：1200px（PC端）
- **最大宽度**：1600px（大屏适配）
- **背景色**：`#F5F5F5`（页面主背景）
- **内边距**：20px（内容与边缘的距离）
- **内容居中**：使用`margin: 0 auto`或flex布局居中

##### 12.2.2.5 页脚
- **高度**：40px（固定）
- **背景色**：`#FFFFFF`（白色）
- **边框**：`1px solid #E0E0E0`（顶部边框）
- **内容**：版权信息、备案号等（居中显示）
- **文字颜色**：`#909399`（次要文字）

#### 12.2.3 网格系统

##### 12.2.3.1 24栅格系统
- 使用Element Plus的24栅格系统（`el-row`、`el-col`）
- 栅格间距：20px（`gutter="20"`）
- 常用布局：
  - 单列：`span="24"`
  - 双列：`span="12"`
  - 三列：`span="8"`
  - 四列：`span="6"`

##### 12.2.3.2 响应式断点
- **xs**：`< 768px`（手机）
- **sm**：`768px - 992px`（平板）
- **md**：`992px - 1200px`（小屏PC）
- **lg**：`≥ 1200px`（大屏PC）

##### 12.2.3.3 响应式布局示例
```vue
<template>
  <el-row :gutter="20">
    <!-- PC端：3列，平板：2列，手机：1列 -->
    <el-col :xs="24" :sm="12" :md="8" :lg="8">
      <el-card>卡片1</el-card>
    </el-col>
    <el-col :xs="24" :sm="12" :md="8" :lg="8">
      <el-card>卡片2</el-card>
    </el-col>
    <el-col :xs="24" :sm="24" :md="8" :lg="8">
      <el-card>卡片3</el-card>
    </el-col>
  </el-row>
</template>
```

#### 12.2.4 间距规范

##### 12.2.4.1 页面间距
- **页面边距**：20px（主内容区与页面边缘的距离）
- **区块间距**：24px（不同功能区块之间的间距）
- **卡片间距**：20px（卡片之间的间距）
- **组件间距**：16px（表单元素、按钮之间的间距）
- **内容间距**：12px（文字、图标之间的间距）
- **紧密间距**：8px（相关元素之间的紧密间距）

##### 12.2.4.2 内边距规范
- **卡片内边距**：20px（卡片内容与边框的距离）
- **表单内边距**：16px（表单容器内边距）
- **按钮内边距**：12px 20px（上下12px，左右20px）
- **输入框内边距**：8px 12px（上下8px，左右12px）

##### 12.2.4.3 间距使用示例
```css
/* 页面容器 */
.page-container {
  padding: 20px;
}

/* 卡片间距 */
.card-wrapper {
  margin-bottom: 20px;
}

/* 表单元素间距 */
.form-item {
  margin-bottom: 16px;
}

/* 按钮组间距 */
.button-group {
  gap: 12px;
}
```

#### 12.2.5 卡片设计

##### 12.2.5.1 卡片基础样式
- **卡片背景**：`#FFFFFF`（白色）或`#F5F5F5`（浅灰色，用于特殊卡片）
- **卡片边框**：`1px solid #E0E0E0`（浅灰色边框）
- **卡片阴影**：`0 2px 12px 0 rgba(118, 159, 205, 0.1)`（轻微蓝色阴影，增加层次感）
- **卡片圆角**：4px（统一圆角，避免过于圆润）
- **卡片内边距**：20px（卡片内容与边框的距离）

##### 12.2.5.2 卡片标题
- **标题高度**：48px
- **标题背景**：`#F5F5F5`（浅灰色背景）
- **标题边框**：`1px solid #E0E0E0`（底部边框）
- **标题文字**：`#303133`（主文字色），16px，加粗
- **标题内边距**：16px 20px（上下16px，左右20px）

##### 12.2.5.3 卡片内容
- **内容区域**：背景`#FFFFFF`（白色）
- **内容内边距**：20px
- **内容文字**：`#606266`（常规文字色），14px

##### 12.2.5.4 卡片类型
- **普通卡片**：白色背景，浅蓝色边框
- **高亮卡片**：浅灰色背景（`#F5F5F5`），用于重要信息展示
- **统计卡片**：白色背景，顶部彩色边框（根据数据类型）

#### 12.2.6 内容区域划分

##### 12.2.6.1 页面头部
- **高度**：60px（固定）
- **内容**：页面标题、面包屑导航、操作按钮
- **背景**：`#FFFFFF`（白色）
- **边框**：`1px solid #E0E0E0`（底部边框）
- **内边距**：16px 20px

##### 12.2.6.2 筛选区域
- **位置**：页面头部下方
- **背景**：`#FFFFFF`（白色）
- **边框**：`1px solid #E0E0E0`（底部边框）
- **内边距**：16px 20px
- **布局**：使用`el-row`、`el-col`进行栅格布局

##### 12.2.6.3 列表区域
- **位置**：筛选区域下方
- **背景**：`#F5F5F5`（页面主背景）
- **内边距**：20px
- **卡片间距**：20px

##### 12.2.6.4 分页区域
- **位置**：列表区域下方
- **对齐方式**：右对齐
- **内边距**：16px 20px
- **背景**：`#FFFFFF`（白色）

#### 12.2.7 对齐规范

##### 12.2.7.1 文本对齐
- **标题**：左对齐
- **正文**：左对齐（中文）、左对齐（英文）
- **数字**：右对齐（表格中的数字列）
- **操作按钮**：右对齐（列表页的操作列）

##### 12.2.7.2 元素对齐
- **表单标签**：右对齐，宽度120px
- **表单输入框**：左对齐
- **按钮组**：右对齐（表单底部按钮组）
- **卡片内容**：左对齐

##### 12.2.7.3 垂直对齐
- **行内元素**：使用`vertical-align: middle`
- **表格单元格**：垂直居中
- **表单元素**：垂直居中对齐

#### 12.2.8 视觉层次

##### 12.2.8.1 字体大小层次
- **页面主标题**：20px，加粗，`#303133`
- **区块标题**：16px，加粗，`#303133`
- **卡片标题**：16px，加粗，`#303133`
- **正文**：14px，常规，`#606266`
- **辅助文字**：12px，常规，`#909399`
- **小字**：12px，常规，`#C0C4CC`

##### 12.2.8.2 颜色层次
- **主要信息**：`#303133`（深灰）
- **常规信息**：`#606266`（中灰）
- **次要信息**：`#909399`（浅灰）
- **占位信息**：`#C0C4CC`（极浅灰）
- **强调信息**：`#1E88E5`（主色）

##### 12.2.8.3 权重层次
- **一级权重**：主标题、主要按钮、重要数据
- **二级权重**：区块标题、次要按钮、常规数据
- **三级权重**：辅助文字、提示信息、次要操作

#### 12.2.9 列表页布局规范

##### 12.2.9.1 标准列表页结构
```
┌─────────────────────────────────────┐
│  页面标题 + 操作按钮 (60px)           │
├─────────────────────────────────────┤
│  筛选条件区域 (自适应高度)            │
├─────────────────────────────────────┤
│  数据列表/表格 (自适应高度)           │
├─────────────────────────────────────┤
│  分页组件 (60px)                     │
└─────────────────────────────────────┘
```

##### 12.2.9.2 列表页间距
- **页面标题区域**：下边距20px
- **筛选区域**：下边距16px
- **列表区域**：下边距20px
- **分页区域**：上边距16px

##### 12.2.9.3 表格列宽规范
- **统一使用 `min-width` 而非 `width`**：确保表格列宽自适应，在不同屏幕尺寸下都能良好显示
- **重要列设置最小宽度**：如ID列 `min-width="80"`，邮箱列 `min-width="180"`，时间列 `min-width="160"`
- **操作列固定右侧**：使用 `fixed="right"` 固定操作列，最小宽度根据按钮数量设置（通常 `min-width="200"` 或 `min-width="280"`）
- **长文本列使用 `show-overflow-tooltip`**：对于可能过长的列（如邮箱、封禁原因），添加 `show-overflow-tooltip` 属性，鼠标悬停显示完整内容
- **表格整体宽度**：使用 `style="width: 100%"` 确保表格铺满容器宽度

**示例：**
```vue
<el-table :data="tableData" style="width: 100%">
  <el-table-column prop="id" label="ID" min-width="80" sortable />
  <el-table-column prop="email" label="邮箱" min-width="180" show-overflow-tooltip />
  <el-table-column prop="createTime" label="创建时间" min-width="160" sortable />
  <el-table-column label="操作" min-width="200" fixed="right">
    <!-- 操作按钮 -->
  </el-table-column>
</el-table>
```

##### 12.2.9.4 表格按钮规范
- **按钮使用图标+文字**：所有操作按钮必须同时包含图标和文字，提升可读性和识别度
- **图标位置**：使用 `:icon` 属性或 `<el-icon>` 组件，图标位于文字左侧
- **按钮配色柔和**：
  - 编辑按钮：`type="primary"`，使用 `Edit` 图标
  - 封禁按钮：`type="warning"`（而非 `danger`），使用 `Lock` 图标
  - 解封按钮：`type="success"`，使用 `Unlock` 图标
  - 删除按钮：`type="danger"`，使用 `Delete` 图标
  - 查看按钮：`type="primary" link`，使用 `View` 图标
- **标签使用 `effect="plain"`**：表格中的标签使用 `effect="plain"` 实现更柔和的视觉效果
- **按钮间距**：操作列中的多个按钮使用 `gap: 8px` 的 flex 布局，支持换行

**示例：**
```vue
<el-table-column label="操作" min-width="280" fixed="right">
  <template #default="{ row }">
    <div class="action-buttons">
      <el-button type="primary" size="small" :icon="Edit">编辑</el-button>
      <el-button type="warning" size="small" :icon="Lock">封禁</el-button>
      <el-button type="danger" size="small" :icon="Delete">删除</el-button>
    </div>
  </template>
</el-table-column>

<style scoped>
.action-buttons {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}
</style>
```

#### 12.2.10 详情页布局规范

##### 12.2.10.1 标准详情页结构
```
┌─────────────────────────────────────┐
│  页面标题 + 返回按钮 (60px)           │
├─────────────────────────────────────┤
│  基本信息卡片 (自适应高度)             │
├─────────────────────────────────────┤
│  详细信息卡片 (自适应高度)             │
├─────────────────────────────────────┤
│  操作按钮组 (60px)                   │
└─────────────────────────────────────┘
```

##### 12.2.10.2 详情页卡片布局
- **单列布局**：宽度100%，用于简单详情页
- **双列布局**：左右各50%，用于复杂详情页
- **标签宽度**：120px（固定）
- **内容宽度**：自适应

#### 12.2.11 表单页布局规范

##### 12.2.11.1 标准表单页结构
```
┌─────────────────────────────────────┐
│  页面标题 (60px)                     │
├─────────────────────────────────────┤
│  表单内容区域 (自适应高度)             │
│  ┌───────────────────────────────┐ │
│  │  表单字段1                      │ │
│  │  表单字段2                      │ │
│  │  ...                            │ │
│  └───────────────────────────────┘ │
├─────────────────────────────────────┤
│  操作按钮组 (60px)                   │
└─────────────────────────────────────┘
```

##### 12.2.11.2 表单布局规则
- **单列表单**：标签宽度120px，输入框宽度400px
- **双列表单**：左右各占50%，标签宽度100px
- **三列表单**：每列占33.33%，标签宽度80px
- **表单分组**：使用`el-card`或`el-divider`进行分组
- **必填标识**：红色星号（`*`）位于标签前

#### 12.2.12 移动端适配规范

##### 12.2.12.1 移动端布局调整
- **导航栏**：改为底部导航栏，高度60px
- **侧边栏**：改为抽屉式（`el-drawer`）
- **卡片**：全宽显示，取消左右边距
- **表单**：单列布局，标签和输入框上下排列
- **按钮**：全宽显示，高度44px（便于点击）

##### 12.2.12.2 移动端间距调整
- **页面边距**：12px（移动端减少边距）
- **卡片间距**：12px
- **组件间距**：12px
- **内容间距**：8px

### 12.3 操作指引规范

#### 12.3.1 首次使用指引
- **欢迎引导**：新用户首次登录时，显示功能引导（使用`el-tour`组件）
- **功能提示**：重要功能添加提示图标（`el-icon-question-filled`），点击显示说明
- **操作步骤**：复杂操作提供步骤指引（如：发布失物招领、创建订单等）

#### 12.3.2 表单填写指引
- **必填标识**：必填字段使用红色星号（`*`）标识
- **字段说明**：复杂字段添加说明文字（使用`el-tooltip`或`el-form-item`的`label`说明）
- **示例提示**：输入框提供占位符示例（如：`请输入邮箱地址，如：example@qq.com`）
- **实时验证**：输入时实时显示验证结果（成功/错误状态）

#### 12.3.3 操作反馈
- **加载状态**：异步操作显示加载动画（`el-loading`）
- **成功提示**：操作成功使用`ElMessage.success()`提示，3秒后自动消失
- **错误提示**：操作失败使用`ElMessage.error()`提示，显示具体错误原因
- **确认操作**：危险操作（删除、取消订单等）使用`ElMessageBox.confirm()`二次确认

### 12.4 错误提示规范

#### 12.4.1 错误提示原则
- **及时反馈**：操作后立即显示错误提示，不延迟
- **信息明确**：错误提示说明具体原因，提供解决方案
- **位置合理**：错误提示显示在相关操作附近，易于发现
- **样式统一**：使用Element Plus统一的错误提示样式

#### 12.4.2 表单错误提示
- **字段级错误**：在表单项下方显示错误信息（红色文字）
- **表单级错误**：在表单顶部显示整体错误信息（`el-alert`组件）
- **验证时机**：`blur`（失焦）时验证，`submit`（提交）时全部验证

#### 12.4.3 接口错误提示
- **网络错误**：`网络连接失败，请检查网络设置`
- **401未授权**：`登录已过期，请重新登录`（自动跳转登录页）
- **403无权限**：`您没有权限执行此操作`
- **404未找到**：`请求的资源不存在`
- **500服务器错误**：`服务器错误，请稍后重试`
- **业务错误**：显示后端返回的具体错误信息

#### 12.4.4 错误提示示例
```vue
<template>
  <!-- 字段级错误提示 -->
  <el-form-item label="邮箱" prop="email" :error="formErrors.email">
    <el-input v-model="form.email" placeholder="请输入邮箱地址" />
  </el-form-item>

  <!-- 表单级错误提示 -->
  <el-alert
    v-if="formErrors.general"
    :title="formErrors.general"
    type="error"
    :closable="false"
    style="margin-bottom: 20px;"
  />

  <!-- 操作错误提示 -->
  <el-button @click="handleSubmit">提交</el-button>
</template>

<script setup>
import { ElMessage } from 'element-plus'

const handleSubmit = async () => {
  try {
    await submitForm()
    ElMessage.success('提交成功')
  } catch (error) {
    // 显示具体错误信息
    ElMessage.error(error.message || '提交失败，请稍后重试')
  }
}
</script>
```

### 12.5 校园场景适配规范

#### 12.5.1 用户习惯适配
- **操作流程简化**：减少不必要的步骤，核心功能3步内完成
- **信息展示清晰**：重要信息（如：失物信息、商品价格、任务报酬）突出显示
- **快速操作**：常用操作（如：发布、接单、认领）提供快捷入口
- **批量操作**：支持批量操作（如：批量审核、批量删除）

#### 12.5.2 功能入口设计
- **首页快捷入口**：首页提供主要功能入口（失物招领、闲置交易、跑腿服务）
- **导航栏分类**：导航栏按功能模块分类，清晰明了
- **个人中心**：个人中心集中管理用户相关信息（发布、订单、任务、收藏等）

#### 12.5.3 信息发布流程
- **发布表单简化**：必填项最少化，可选信息提供默认值
- **图片上传优化**：支持拖拽上传、预览、删除，最多9张
- **实时保存**：表单内容自动保存草稿，防止数据丢失
- **发布预览**：发布前提供预览功能，确认无误后再发布

#### 12.5.4 交互优化
- **搜索功能**：提供关键词搜索、高级筛选，支持历史搜索记录
- **筛选功能**：常用筛选条件（分类、状态、价格区间等）提供快捷筛选
- **排序功能**：支持多种排序方式（时间、价格、热度等），默认按时间倒序
- **分页加载**：列表使用分页加载，每页10-20条，支持跳转和调整每页数量

### 12.6 响应式设计规范

#### 12.6.1 断点设置
- **移动端**：`< 768px`（手机）
- **平板端**：`768px - 1024px`（平板）
- **PC端**：`> 1024px`（桌面）

#### 12.6.2 适配策略
- **移动端**：单列布局，导航改为底部导航栏，卡片全宽显示
- **平板端**：双列布局，侧边栏可收起，卡片自适应宽度
- **PC端**：多列布局，侧边栏固定，卡片按网格排列

#### 12.6.3 触摸优化
- **按钮尺寸**：移动端按钮最小高度44px，便于点击
- **间距调整**：移动端增加元素间距，避免误触
- **手势支持**：支持滑动、长按等手势操作

### 12.7 图标和图片规范

#### 12.7.1 图标使用
- **图标库**：统一使用`@element-plus/icons-vue`
- **图标尺寸**：16px（小）、20px（中）、24px（大）
- **图标颜色**：跟随文字颜色，或使用主题色

#### 12.7.2 图片规范
- **图片格式**：优先使用WebP，兼容PNG、JPG
- **图片尺寸**：列表缩略图200x200px，详情大图800x800px
- **图片压缩**：上传前自动压缩，单张不超过5MB
- **懒加载**：列表图片使用懒加载，提升页面性能

### 12.8 动画和过渡规范

#### 12.8.1 动画原则
- **适度使用**：动画用于提升体验，不过度使用
- **性能优先**：使用CSS3动画，避免JavaScript动画
- **时长控制**：动画时长200-300ms，不宜过长

#### 12.8.2 常用动画
- **页面切换**：淡入淡出（`fade`）
- **列表加载**：从下往上滑入（`slide-up`）
- **弹窗显示**：缩放淡入（`zoom-fade`）
- **按钮点击**：轻微缩放（`scale`）

## 十三、错误处理规范

### 12.1 API错误处理
- 统一在`request.js`的响应拦截器中处理错误
- 根据错误码显示不同的错误提示
- 401错误自动跳转登录页

### 12.2 组件错误处理
- 使用`try-catch`捕获异步错误
- 错误信息使用`ElMessage`提示用户
- 关键操作失败时提供重试机制

**示例：**
```javascript
const handleSubmit = async () => {
  try {
    await submitForm()
    ElMessage.success('操作成功')
  } catch (error) {
    ElMessage.error(error.message || '操作失败')
  }
}
```

## 十四、性能优化规范

### 13.1 路由懒加载
- 所有路由组件使用懒加载
- 减少首屏加载时间

**示例：**
```javascript
{
  path: '/user',
  component: () => import('@/views/user/UserList.vue')
}
```

### 13.2 组件懒加载
- 大型组件使用`defineAsyncComponent`懒加载
- 减少初始打包体积

### 13.3 图片优化
- 使用合适的图片格式（WebP、PNG、JPG）
- 大图片使用懒加载
- 使用CDN加速静态资源

## 十五、安全规范

### 14.1 数据安全
- Token存储在`localStorage`，注意XSS攻击防护
- 敏感信息不在前端存储
- 用户输入必须进行校验和转义

### 14.2 接口安全
- 所有接口请求自动携带Token
- Token过期自动跳转登录页
- 防止CSRF攻击（后端配合）

### 14.3 前端安全
- 使用HTTPS协议（生产环境）
- 避免在URL中传递敏感信息
- 防止XSS攻击：对用户输入进行转义

## 十六、Git提交规范

### 15.1 提交信息格式
- 提交信息格式：`类型(范围): 描述`
- 类型：`feat`（新功能）、`fix`（修复）、`docs`（文档）、`style`（格式）、`refactor`（重构）、`test`（测试）、`chore`（构建）
- 示例：`feat(user): 添加用户列表功能`

### 15.2 提交规范
- 每次提交只包含一个功能或修复
- 提交前检查代码格式
- 提交前运行测试（如有）

## 十七、HTML布局转Vue组件规范

### 17.1 转换原则

将HTML布局转换为Vue组件时，应遵循以下原则：

1. **保持视觉一致性**：转换后的Vue组件应保持与原HTML相同的视觉效果
2. **使用Element Plus组件**：优先使用Element Plus提供的组件，而不是原生HTML元素
3. **遵循项目规范**：使用项目统一的颜色、间距、字体等设计规范
4. **组件化拆分**：将可复用的部分提取为独立组件
5. **响应式适配**：确保移动端和PC端都能正常显示

### 17.2 转换步骤

#### 17.2.1 分析HTML结构

1. **识别布局容器**
   - `<header>` → 布局组件的顶部导航栏
   - `<main>` → 布局组件的主内容区
   - `<nav>` → 布局组件的底部导航栏（移动端）
   - `<section>` → 页面组件的功能模块

2. **识别可复用组件**
   - 卡片列表 → 提取为列表组件
   - 表单 → 使用Element Plus的表单组件
   - 图表 → 使用ECharts

3. **识别交互功能**
   - 搜索功能 → 使用Vue的响应式数据和事件处理
   - 下拉菜单 → 使用Element Plus的`el-dropdown`
   - 模态框 → 使用Element Plus的`el-dialog`

#### 17.2.2 创建布局组件

**步骤：**

1. 在 `src/layouts/` 目录创建布局组件
2. 将HTML的`<header>`、`<main>`、`<nav>`等结构转换为Vue模板
3. 使用Element Plus组件替换HTML原生元素
4. 添加响应式数据和事件处理

**示例：**

```vue
<!-- MainLayout.vue -->
<template>
  <div class="main-layout">
    <!-- 顶部导航栏 -->
    <header class="main-header">
      <div class="header-container">
        <!-- 使用Element Plus组件 -->
        <el-menu mode="horizontal">
          <el-menu-item index="home">首页</el-menu-item>
        </el-menu>
      </div>
    </header>
    
    <!-- 主内容区 -->
    <main class="main-content">
      <router-view /> <!-- 页面内容 -->
    </main>
  </div>
</template>
```

#### 17.2.3 样式转换

**Tailwind CSS → 自定义CSS：**

```html
<!-- HTML (Tailwind) -->
<div class="bg-white rounded-lg p-4 shadow-sm">
  <h2 class="text-xl font-bold text-gray-800">标题</h2>
</div>
```

```vue
<!-- Vue (自定义CSS) -->
<template>
  <div class="content-card">
    <h2 class="card-title">标题</h2>
  </div>
</template>

<style scoped>
.content-card {
  background-color: #FFFFFF;
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);
}

.card-title {
  font-size: 20px;
  font-weight: bold;
  color: #303133;
}
</style>
```

#### 17.2.4 功能实现

**使用Vue的响应式系统：**

```vue
<script setup>
import { ref, computed } from 'vue'
import { useRouter } from 'vue-router'

const router = useRouter()
const searchKeyword = ref('')
const activeMenu = ref('home')

// 处理搜索
const handleSearch = () => {
  if (searchKeyword.value.trim()) {
    router.push({
      path: '/search',
      query: { keyword: searchKeyword.value }
    })
  }
}

// 处理菜单选择
const handleMenuSelect = (index) => {
  activeMenu.value = index
  // 路由跳转逻辑
}
</script>
```

### 17.3 常见转换对照表

| HTML元素/类名 | Vue组件/类名 | 说明 |
|--------------|-------------|------|
| `<header>` | `<header class="main-header">` | 顶部导航栏容器 |
| `<nav>` | `<nav class="bottom-nav">` | 底部导航栏（移动端） |
| `<input type="text">` | `<el-input>` | 输入框 |
| `<button>` | `<el-button>` | 按钮 |
| `<select>` | `<el-select>` | 下拉选择 |
| `<div class="card">` | `<div class="content-card">` | 卡片容器 |
| `bg-white` | `background-color: #FFFFFF` | 白色背景 |
| `rounded-lg` | `border-radius: 8px` | 圆角 |
| `shadow-sm` | `box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05)` | 阴影 |
| `text-primary` | `color: #1E88E5` | 主色文字 |
| `hover:bg-gray-100` | `:hover { background-color: #F5F5F5 }` | 悬停效果 |

### 17.4 页面内容区域布局规范

**标准页面结构：**

```vue
<template>
  <div class="page-container">
    <!-- 页面标题区域 -->
    <div class="page-header">
      <h1 class="page-title">页面标题</h1>
      <div class="page-actions">
        <el-button type="primary" @click="handleAction">操作按钮</el-button>
      </div>
    </div>
    
    <!-- 筛选区域（如需要） -->
    <div class="filter-section">
      <el-form :inline="true" class="filter-form">
        <el-form-item label="分类">
          <el-select v-model="filter.category" placeholder="请选择">
            <el-option label="全部" value="" />
          </el-select>
        </el-form-item>
        <el-form-item>
          <el-button type="primary" @click="handleFilter">筛选</el-button>
        </el-form-item>
      </el-form>
    </div>
    
    <!-- 内容区域 -->
    <div class="content-section">
      <!-- 列表、卡片、表单等 -->
      <el-row :gutter="20">
        <el-col :xs="24" :sm="12" :md="8" :lg="6" v-for="item in list" :key="item.id">
          <div class="content-card">
            <!-- 卡片内容 -->
          </div>
        </el-col>
      </el-row>
    </div>
    
    <!-- 分页区域（如需要） -->
    <div class="pagination-section">
      <el-pagination
        v-model:current-page="pagination.page"
        v-model:page-size="pagination.size"
        :total="pagination.total"
        layout="total, sizes, prev, pager, next, jumper"
        @size-change="handleSizeChange"
        @current-change="handlePageChange"
      />
    </div>
  </div>
</template>

<style scoped>
.page-container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 20px;
}

.page-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px;
}

.page-title {
  font-size: 28px;
  font-weight: bold;
  color: #303133;
  margin: 0;
}

.filter-section {
  background-color: #FFFFFF;
  border-radius: 8px;
  padding: 20px;
  margin-bottom: 20px;
  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);
  border: 1px solid #E0E0E0;
}

.content-section {
  margin-bottom: 20px;
}

.content-card {
  background-color: #FFFFFF;
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);
  border: 1px solid #E0E0E0;
  transition: all 0.3s ease;
  margin-bottom: 20px;
}

.content-card:hover {
  box-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.1);
  border-color: #1E88E5;
  transform: translateY(-2px);
}

.pagination-section {
  display: flex;
  justify-content: flex-end;
  margin-top: 20px;
}
</style>
```

### 17.5 卡片列表布局规范

**网格布局（Grid Layout）：**

```vue
<template>
  <div class="card-grid">
    <div
      v-for="item in list"
      :key="item.id"
      class="card-item"
      @click="handleCardClick(item)"
    >
      <div class="card-image">
        <img :src="item.image" :alt="item.title" />
        <span class="card-badge" :class="item.type">{{ item.badgeText }}</span>
      </div>
      <div class="card-content">
        <h3 class="card-title">{{ item.title }}</h3>
        <p class="card-desc">{{ item.description }}</p>
        <div class="card-meta">
          <span class="card-location">
            <el-icon><Location /></el-icon>
            {{ item.location }}
          </span>
          <span class="card-time">
            <el-icon><Clock /></el-icon>
            {{ item.time }}
          </span>
        </div>
        <div class="card-footer">
          <div class="card-user">
            <el-avatar :size="24" :src="item.userAvatar" />
            <span>{{ item.userName }}</span>
          </div>
          <el-button type="primary" size="small" text>联系TA</el-button>
        </div>
      </div>
    </div>
  </div>
</template>

<style scoped>
.card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 20px;
}

.card-item {
  background-color: #FFFFFF;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);
  border: 1px solid #E0E0E0;
  transition: all 0.3s ease;
  cursor: pointer;
}

.card-item:hover {
  box-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.1);
  border-color: #1E88E5;
  transform: translateY(-2px);
}

.card-image {
  position: relative;
  width: 100%;
  height: 200px;
  overflow: hidden;
}

.card-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.card-badge {
  position: absolute;
  top: 8px;
  left: 8px;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  color: #FFFFFF;
}

.card-badge.red {
  background-color: #f56c6c;
}

.card-badge.green {
  background-color: #4CAF50;
}

.card-content {
  padding: 16px;
}

.card-title {
  font-size: 16px;
  font-weight: bold;
  color: #303133;
  margin: 0 0 8px 0;
}

.card-desc {
  font-size: 14px;
  color: #606266;
  margin: 0 0 12px 0;
  line-height: 1.5;
}

.card-meta {
  display: flex;
  gap: 16px;
  font-size: 12px;
  color: #909399;
  margin-bottom: 12px;
}

.card-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: 12px;
  border-top: 1px solid #f0f0f0;
}

.card-user {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  color: #606266;
}
</style>
```

### 17.6 响应式布局实现

**使用Element Plus的栅格系统：**

```vue
<template>
  <el-row :gutter="20">
    <!-- PC端4列，平板2列，手机1列 -->
    <el-col :xs="24" :sm="12" :md="6" :lg="6" v-for="item in list" :key="item.id">
      <div class="card-item">
        <!-- 卡片内容 -->
      </div>
    </el-col>
  </el-row>
</template>
```

**使用CSS Grid：**

```css
.card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 20px;
}

/* 响应式调整 */
@media (max-width: 768px) {
  .card-grid {
    grid-template-columns: 1fr; /* 移动端单列 */
    gap: 16px;
  }
}

@media (min-width: 769px) and (max-width: 1024px) {
  .card-grid {
    grid-template-columns: repeat(2, 1fr); /* 平板端2列 */
  }
}

@media (min-width: 1025px) {
  .card-grid {
    grid-template-columns: repeat(3, 1fr); /* PC端3列 */
  }
}
```

## 十八、MainLayout.vue 数据集成规范

### 18.1 MainLayout.vue 数据集成概述

**MainLayout.vue 是系统的核心布局组件，首页内容直接嵌入在 MainLayout 中。当前首页各业务模块使用假数据，需要逐步替换为真实 API 调用。**

### 18.2 数据集成原则

1. **逐步替换**：不要一次性替换所有假数据，按模块逐步集成
2. **保持兼容**：在 API 未实现时，继续使用假数据，确保页面正常显示
3. **错误处理**：所有 API 调用必须有完善的错误处理
4. **性能优化**：首页数据量要控制，避免加载过多数据
5. **用户体验**：显示加载状态，数据为空时显示友好提示

### 18.3 API 接口创建规范

**在 `src/api/index.js` 中创建各模块的 API 接口：**

```javascript
/**
 * 失物招领相关 API
 */
export const lostFoundApi = {
  // 分页查询失物列表
  getLostFoundPage(params) {
    return request.get('/lost-found/page', { params })
  },
  
  // 获取失物详情
  getLostFoundById(id) {
    return request.get(`/lost-found/${id}`)
  },
  
  // 发布失物
  publishLostFound(data) {
    return request.post('/lost-found', data)
  },
  
  // 搜索失物
  searchLostFound(params) {
    return request.get('/lost-found/search', { params })
  }
}
```

**规范要求：**
- API 方法命名使用动词开头：`get`、`post`、`put`、`delete`
- 方法名要清晰表达功能：`getLostFoundPage`、`publishLostFound`
- 参数使用对象传递，便于扩展
- 所有 API 方法都要有注释说明

### 18.4 MainLayout.vue 数据集成步骤

#### 18.4.1 导入 API 和工具

```javascript
import { lostFoundApi, goodsApi, taskApi } from '@/api'
import { ElMessage } from 'element-plus'
```

#### 18.4.2 添加加载状态

```javascript
const lostFoundLoading = ref(false)
const goodsLoading = ref(false)
const taskLoading = ref(false)
```

#### 18.4.3 创建数据获取函数

```javascript
// 获取失物招领列表
const fetchLostFoundList = async () => {
  // 如果 API 未实现，使用假数据
  if (!lostFoundApi) {
    return
  }
  
  lostFoundLoading.value = true
  try {
    const response = await lostFoundApi.getLostFoundPage({
      current: 1,
      size: 6, // 首页只显示6条
      category: lostFoundFilters.value.category || '',
      location: lostFoundFilters.value.location || '',
      time: lostFoundFilters.value.time || ''
    })
    if (response.code === 200) {
      // 转换数据格式
      lostFoundList.value = transformLostFoundData(response.data.records)
    } else {
      ElMessage.warning(response.message || '获取失物招领列表失败')
    }
  } catch (error) {
    console.error('获取失物招领列表失败:', error)
    ElMessage.error('获取失物招领列表失败，请稍后重试')
    // 错误时保持假数据，确保页面正常显示
  } finally {
    lostFoundLoading.value = false
  }
}
```

#### 18.4.4 数据格式转换

**后端返回的数据格式可能与前端假数据格式不一致，需要转换：**

```javascript
// 转换失物招领数据格式
const transformLostFoundData = (data) => {
  if (!data || !Array.isArray(data)) {
    return []
  }
  return data.map(item => ({
    id: item.id,
    title: item.title,
    description: item.description || '',
    location: item.lostLocation || '',
    time: formatDate(item.lostTime) || '',
    type: item.status === '待认领' ? 'lost' : 'found',
    image: item.images ? (Array.isArray(item.images) ? item.images[0] : JSON.parse(item.images)[0]) : '',
    userAvatar: item.user?.avatar || '',
    userName: item.user?.nickname || '匿名用户'
  }))
}

// 日期格式化工具函数
const formatDate = (date) => {
  if (!date) return ''
  const d = new Date(date)
  return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`
}
```

#### 18.4.5 在 onMounted 中调用

```javascript
onMounted(() => {
  // ... 现有代码 ...
  
  // 如果是首页，加载各模块数据
  if (isHomePage.value) {
    // 尝试加载真实数据，如果 API 未实现则使用假数据
    fetchLostFoundList().catch(() => {
      // API 未实现时，保持使用假数据
      console.log('失物招领 API 未实现，使用假数据')
    })
    fetchGoodsList().catch(() => {
      console.log('商品 API 未实现，使用假数据')
    })
    fetchTaskList().catch(() => {
      console.log('跑腿任务 API 未实现，使用假数据')
    })
  }
})
```

#### 18.4.6 监听筛选条件变化

```javascript
// 监听失物招领筛选条件
watch(
  [
    () => lostFoundFilters.value.category,
    () => lostFoundFilters.value.location,
    () => lostFoundFilters.value.time
  ],
  () => {
    if (isHomePage.value) {
      fetchLostFoundList()
    }
  },
  { deep: true }
)

// 监听商品分类变化
watch(
  () => goodsActiveCategory.value,
  () => {
    if (isHomePage.value) {
      fetchGoodsList()
    }
  }
)

// 监听任务分类变化
watch(
  () => taskActiveCategory.value,
  () => {
    if (isHomePage.value) {
      fetchTaskList()
    }
  }
)
```

#### 18.4.7 在模板中添加加载状态和空状态

```vue
<!-- 失物招领列表 -->
<div class="card-grid" v-loading="lostFoundLoading">
  <div v-for="item in lostFoundList" :key="item.id" class="lost-found-card" @click="goToDetail('lost-found', item.id)">
    <!-- 卡片内容 -->
  </div>
  <!-- 空状态 -->
  <div v-if="!lostFoundLoading && lostFoundList.length === 0" class="empty-state">
    <el-empty description="暂无失物信息" :image-size="100" />
  </div>
</div>
```

### 18.5 集成顺序建议

**建议按以下顺序逐步集成：**

1. **第一步：失物招领模块**
   - 创建 `lostFoundApi` 接口
   - 在 MainLayout.vue 中添加 `fetchLostFoundList` 函数
   - 替换失物招领假数据
   - 实现筛选功能
   - 测试数据加载和显示

2. **第二步：闲置交易模块**
   - 创建 `goodsApi` 接口
   - 在 MainLayout.vue 中添加 `fetchGoodsList` 函数
   - 替换商品假数据
   - 实现分类筛选功能
   - 测试数据加载和显示

3. **第三步：跑腿服务模块**
   - 创建 `taskApi` 接口
   - 在 MainLayout.vue 中添加 `fetchTaskList` 函数
   - 替换任务假数据
   - 实现分类筛选功能
   - 测试数据加载和显示

4. **第四步：信用评价和数据统计**
   - 创建信用评价和数据统计 API 接口
   - 在 MainLayout.vue 中替换假数据
   - 实现图表数据加载

### 18.6 注意事项

1. **API 兼容性检查**：
   - 在调用 API 前检查 API 是否存在
   - API 未实现时，继续使用假数据，确保页面正常显示

2. **性能优化**：
   - 首页数据量要控制（建议每个模块不超过10条）
   - 使用分页参数限制数据量
   - 考虑使用缓存，避免频繁请求

3. **错误处理**：
   - 所有 API 调用都要有 try-catch 错误处理
   - 显示友好的错误提示
   - 网络错误时显示重试按钮
   - 错误时保持假数据，确保页面正常显示

4. **加载状态**：
   - 使用 `v-loading` 显示加载状态
   - 数据为空时显示空状态提示（使用 `el-empty` 组件）
   - 避免页面闪烁

5. **数据同步**：
   - 发布新内容后，需要刷新首页数据
   - 可以使用事件总线或 Pinia Store 实现数据同步
   - 考虑使用 `provide/inject` 在组件间传递刷新函数

6. **路由监听**：
   - 监听路由变化，只在首页时加载数据
   - 避免在其他页面也加载首页数据
   - 使用 `isHomePage` 计算属性判断是否为首页

7. **数据格式转换**：
   - 后端返回的数据格式可能与前端假数据格式不一致
   - 需要创建转换函数，统一数据格式
   - 转换函数要有容错处理，避免数据格式错误导致页面崩溃

### 18.7 示例代码

**完整的集成示例（失物招领模块）：**

```javascript
// 1. 导入 API
import { lostFoundApi } from '@/api'
import { ElMessage } from 'element-plus'

// 2. 添加加载状态
const lostFoundLoading = ref(false)

// 3. 数据格式转换函数
const transformLostFoundData = (data) => {
  if (!data || !Array.isArray(data)) {
    return []
  }
  return data.map(item => ({
    id: item.id,
    title: item.title,
    description: item.description || '',
    location: item.lostLocation || '',
    time: formatDate(item.lostTime) || '',
    type: item.status === '待认领' ? 'lost' : 'found',
    image: item.images ? (Array.isArray(item.images) ? item.images[0] : JSON.parse(item.images)[0]) : '',
    userAvatar: item.user?.avatar || '',
    userName: item.user?.nickname || '匿名用户'
  }))
}

// 4. 数据获取函数
const fetchLostFoundList = async () => {
  // 如果 API 未实现，使用假数据
  if (!lostFoundApi) {
    return
  }
  
  lostFoundLoading.value = true
  try {
    const response = await lostFoundApi.getLostFoundPage({
      current: 1,
      size: 6,
      category: lostFoundFilters.value.category || '',
      location: lostFoundFilters.value.location || '',
      time: lostFoundFilters.value.time || ''
    })
    if (response.code === 200) {
      lostFoundList.value = transformLostFoundData(response.data.records)
    } else {
      ElMessage.warning(response.message || '获取失物招领列表失败')
    }
  } catch (error) {
    console.error('获取失物招领列表失败:', error)
    ElMessage.error('获取失物招领列表失败，请稍后重试')
  } finally {
    lostFoundLoading.value = false
  }
}

// 5. 在 onMounted 中调用
onMounted(() => {
  if (isHomePage.value) {
    fetchLostFoundList().catch(() => {
      console.log('失物招领 API 未实现，使用假数据')
    })
  }
})

// 6. 监听筛选条件变化
watch(
  [
    () => lostFoundFilters.value.category,
    () => lostFoundFilters.value.location,
    () => lostFoundFilters.value.time
  ],
  () => {
    if (isHomePage.value) {
      fetchLostFoundList()
    }
  },
  { deep: true }
)
```

## 十九、总结

本规范文档涵盖了校园帮系统前端开发的核心规范，包括：
- 技术栈选择（Vue 3、Vite、Element Plus、Pinia等）
- **整体布局架构规范**（MainLayout 统一布局，已移除 BasicLayout）
- **全局样式文件**（global.css）：统一的配色方案、CSS变量、工具类
- 项目结构设计
- 组件开发规范
- API接口调用规范
- 状态管理规范（Pinia）
- 路由管理规范
- 工具函数规范
- 代码质量规范
- 环境变量配置规范
- Vite配置规范
- Element Plus使用规范
- UI/UX设计规范（配色方案、布局、操作指引、错误提示、校园场景适配、现代UI设计）
- **HTML布局转Vue组件规范**
- 错误处理规范
- 性能优化规范
- 安全规范
- **MainLayout.vue 数据集成规范**（假数据替换为真实 API 调用）

**重要参考文档**：
- 个人中心页面设计详细规范：`doc/个人中心页面设计规范补充.md`
- 功能开发需求文档：`doc/功能开发需求文档.md`（包含 MainLayout.vue 集成指南）

开发团队应严格遵守本规范，确保代码质量和项目的可维护性，同时提供良好的用户体验，降低使用门槛，适合校园场景的普及。

